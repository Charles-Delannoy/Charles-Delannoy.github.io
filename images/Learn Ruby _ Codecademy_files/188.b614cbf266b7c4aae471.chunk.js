(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[188],{"+L3W":function(e,t,o){e.exports={shareCodeControl:"shareCodeControl__gl4SWqZsjVr-8rdMdmVW4",cta:"cta__2pLsnCKjPWqAxH-0pXuhjW",ctaArrow:"ctaArrow__1ynA_D2qeHyGhZ384zIXs-"}},"5vKB":function(e,t,o){"use strict";var n=o("w/QP"),r=o.n(n),i=o("zdiy"),a=o.n(i),s=o("OFL0"),l=o.n(s),c=o("gB9P"),u=o.n(c);function Controller(){this.initialize.apply(this,arguments)}Controller.extend=function customExtend(e,t){var o,n=this;return o=e&&l()(e,"constructor")?e.constructor:function child(){return n.apply(this,arguments)},a()(o,n,t),o.prototype=r()(n.prototype,e),o.prototype.constructor=o,o.__super__=n.prototype,o},Controller.prototype=u.a.mixin({}),t.a=Controller},"6YDM":function(e,t,o){"use strict";var n=o("hhPA"),r=o.n(n);t.a=r.a.createActions(["broadcast","newAdapter"])},"7/as":function(e,t,o){e.exports={progressElipse:"progressElipse__6-cA4TxgvlD6pCdvybrKt",dot:"dot__p3lLrqurjxgNO7ftVv-2W",dotActive:"dotActive__3jRGa5KREPxpTIKAEJc8th"}},AFKu:function(e,t,o){"use strict";var n=o("mwIZ"),r=o.n(n),i=o("TSYQ"),a=o.n(i),s=o("g5A2"),l=o("Zmyp"),c=o("h9bJ"),u=o("YDNT"),p=o("ebli"),f=o("q1tI"),h=o.n(f),d=o("fhzG"),m=o.n(d),y=o("BzM2"),g=o("4TZy"),b=m()({displayName:"WorkspaceStatusMessage",mixins:[y.StateMixin.connect(g.a,"workspaceStatusType"),y.StateMixin.connect(g.a,"workspaceStatusMessage")],getInitialState:function getInitialState(){return{visible:!1,isHovering:!1}},componentDidUpdate:function componentDidUpdate(e,t){var o=this,n=this.state.workspaceStatusType,r=this.state.workspaceStatusMessage;if((n!==t.workspaceStatusType||r!==t.workspaceStatusMessage)&&this.state.workspaceStatusMessage&&(this.setState({visible:!0}),this.state.hideTimeout&&(clearTimeout(this.state.hideTimeout),this.setState({hideTimeout:null})),"success"===this.state.workspaceStatusType)){var i=setTimeout(function(){o.setState({visible:!1})},3e3);this.setState({hideTimeout:i})}},onMouseOver:function onMouseOver(){this.state.isHovering=!0,this.setState({isHovering:this.state.isHovering,visible:!0})},onMouseLeave:function onMouseLeave(){this.setState({visible:!1,isHovering:!1})},render:function render(){var e="neutral"===this.state.workspaceStatusType,t=a()({"fcn-godex-status--hidden":!this.state.visible,"fcn-godex-status":!0,"fcn-godex-status--neutral":e,"fcn-godex-status--error":"error"===this.state.workspaceStatusType||"idle"===this.state.workspaceStatusType,"fcn-godex-status--success":"success"===this.state.workspaceStatusType,"fcn-godex-status--stable":this.state.isHovering&&"error"!==this.state.workspaceStatusType});return h.a.createElement("div",{className:"fcn-godex-status-container",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseLeave},h.a.createElement("div",{className:t},h.a.createElement("span",{ref:"statusMessage"},this.state.workspaceStatusMessage),h.a.createElement("div",{className:"fcn-godex-status__glow"})))}}),_=o("Vrsu"),v=o("/MKj"),C=o("T2dD"),w=o("1fti"),O=o("NuJE"),S=o("QqFe"),k=o("TUVh"),P=o("sCXD"),E=o.n(P);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var T=function(e){function Idle(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Idle);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Idle)).call.apply(e,[this].concat(n)))).state={minutes:t.props.focusInterval},t.handleChange=function(e){t.setState({minutes:e.target.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.startTimer(t.state.minutes)},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Idle,f["Component"]),function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(Idle,[{key:"render",value:function render(){var e=this,t=this.props.startTimer;return h.a.createElement("div",null,h.a.createElement("h2",null,"Focus Timer"),h.a.createElement("div",null,"Set a timer to stay focused and get more done!"),h.a.createElement("form",{action:"start-timer",id:"timer-form",onSubmit:this.handleSubmit,className:E.a.timeForm},h.a.createElement(k.a,{className:E.a.timeInputBox,value:this.state.minutes,onChange:this.handleChange}),h.a.createElement("span",{className:E.a.minutesLabel},"Minutes")),h.a.createElement(S.a,{onClick:function onClick(){return t(e.state.minutes)},className:E.a.commitButton,outline:!1,theme:"brand-purple"},"Start"))}}]),Idle}(),R=o("Efxr"),x=o("ZtOw"),N=o.n(x);var W=function AnimatedTimerCircle(e){var t=e.circleRef,o=e.circleRadius,n=e.className,r=e.circleLength,i=Math.round(o/7),a=o+i;return h.a.createElement("svg",{height:2*a,width:2*a,className:n},h.a.createElement("circle",{className:N.a.circleWatermark,cx:a,cy:a,r:o,strokeWidth:i}),h.a.createElement("circle",{ref:t,className:N.a.circle,cx:a,cy:a,r:o,strokeWidth:i,strokeDasharray:r,strokeDashoffset:r,transform:"rotate(-90, ".concat(a,", ").concat(a,")")}))},j=o("vD2r"),F=o.n(j);function Running_typeof(e){return(Running_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Running_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Running_possibleConstructorReturn(e,t){return!t||"object"!==Running_typeof(t)&&"function"!=typeof t?function Running_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Running_getPrototypeOf(e){return(Running_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Running_setPrototypeOf(e,t){return(Running_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var M=1500,B=R.b.div({enter:{scale:1,opacity:1},exit:{scale:1.5,opacity:0,y:"-40px",transition:{duration:M}}}),D=function(e){function Running(e){var t;return function Running_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Running),(t=Running_possibleConstructorReturn(this,Running_getPrototypeOf(Running).call(this,e))).state={isVisible:!0},t.pauseTimerAndAnimation=function(){var e=t.props.pauseTimer;t.circleRef.current&&(t.circleRef.current.style.webkitAnimationPlayState="paused"),clearTimeout(t.focusSessionCompletedAnimation),e()},t.resumeTimerAndAnimation=function(){var e=t.props.resumeTimer;t.circleRef.current&&(t.circleRef.current.style.webkitAnimationPlayState="running"),e(),t.setEndingAnimation()},t.setEndingAnimation=function(){t.focusSessionCompletedAnimation=setTimeout(function(){t.setState({isVisible:!1})},1e3*t.props.secondsRemaining-M)},t.circleRef=h.a.createRef(),t}return function Running_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Running_setPrototypeOf(e,t)}(Running,f["Component"]),function Running_createClass(e,t,o){return t&&Running_defineProperties(e.prototype,t),o&&Running_defineProperties(e,o),e}(Running,[{key:"componentDidMount",value:function componentDidMount(){this.circleRef.current.style.animationDuration="".concat(60*this.props.focusIntervalMinutes-1,"s"),this.circleRef.current.style.animationDelay="-".concat(60*this.props.focusIntervalMinutes-this.props.secondsRemaining,"s"),this.setEndingAnimation()}},{key:"render",value:function render(){var e=this.props,t=e.isTimerPaused,o=e.cancelTimer,n=e.secondsRemaining,r=this.state.isVisible,i=Math.ceil(n/60);return h.a.createElement("div",null,h.a.createElement("h2",{className:F.a.header},"Time Remaining"),h.a.createElement("div",{className:F.a.timeRemainingSection},h.a.createElement(R.a,null,r&&h.a.createElement(B,{key:"circle"},h.a.createElement(W,{circleRef:this.circleRef,circleRadius:75,circleLength:471,className:F.a.timeCircle}))),h.a.createElement("div",{className:F.a.time},h.a.createElement("strong",{className:F.a.strong},i),h.a.createElement("div",{className:F.a.timeRemaining},"Minute",i>1&&"s"," left"))),h.a.createElement("div",null,h.a.createElement(S.a,{onClick:o,className:F.a.buttonWithMargin,theme:"brand-purple",outline:!0},"Cancel"),t?h.a.createElement(S.a,{onClick:this.resumeTimerAndAnimation,outline:!1,theme:"brand-purple"},"Resume"):h.a.createElement(S.a,{onClick:this.pauseTimerAndAnimation,outline:!1,theme:"brand-purple"},"Pause")))}}]),Running}(),I=o("LndF"),L=o.n(I),A=o("WdGf"),H=o.n(A);function Finished_typeof(e){return(Finished_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Finished_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Finished_possibleConstructorReturn(e,t){return!t||"object"!==Finished_typeof(t)&&"function"!=typeof t?function Finished_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Finished_getPrototypeOf(e){return(Finished_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Finished_setPrototypeOf(e,t){return(Finished_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function Finished(){return function Finished_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Finished),Finished_possibleConstructorReturn(this,Finished_getPrototypeOf(Finished).apply(this,arguments))}return function Finished_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Finished_setPrototypeOf(e,t)}(Finished,f["Component"]),function Finished_createClass(e,t,o){return t&&Finished_defineProperties(e.prototype,t),o&&Finished_defineProperties(e,o),e}(Finished,[{key:"render",value:function render(){var e=this.props.resetTimer;return h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",null,"Great job!"),h.a.createElement("p",null,"Take a short break and keep going!"),h.a.createElement("div",{className:H.a.image},h.a.createElement("img",{src:L.a,alt:"Finished"})),h.a.createElement(S.a,{onClick:e,className:H.a.resetButton,outline:!1,theme:"brand-purple"},"Restart"))}}]),Finished}(),U=o("cGMd"),V=o.n(U),G=o("bjkt"),Q=o.n(G);function Errored_typeof(e){return(Errored_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Errored_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Errored_possibleConstructorReturn(e,t){return!t||"object"!==Errored_typeof(t)&&"function"!=typeof t?function Errored_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Errored_getPrototypeOf(e){return(Errored_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Errored_setPrototypeOf(e,t){return(Errored_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var K=function(e){function Errored(){return function Errored_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Errored),Errored_possibleConstructorReturn(this,Errored_getPrototypeOf(Errored).apply(this,arguments))}return function Errored_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Errored_setPrototypeOf(e,t)}(Errored,f["Component"]),function Errored_createClass(e,t,o){return t&&Errored_defineProperties(e.prototype,t),o&&Errored_defineProperties(e,o),e}(Errored,[{key:"render",value:function render(){var e=this.props.resetTimer;return h.a.createElement(h.a.Fragment,null,h.a.createElement("h2",null,"Focus Timer"),h.a.createElement("p",{className:Q.a.error},"Oops, the time you set is invalid. Please enter a number."),h.a.createElement("div",{className:Q.a.image},h.a.createElement("img",{src:V.a,alt:"Errored Codey"})),h.a.createElement(S.a,{onClick:e,className:Q.a.resetButton,outline:!1,theme:"brand-purple"},"Restart"))}}]),Errored}();function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function AlarmIcon(e){return h.a.createElement("svg",_extends({width:"24",height:"24",xmlns:"http://www.w3.org/2000/svg"},e),h.a.createElement("g",{fill:"none",fillRule:"evenodd"},h.a.createElement("path",{d:"M20 7.067L16.32 4l-1.032 1.215 3.68 3.067L20 7.067zM8.704 5.215L7.68 4 4 7.059l1.032 1.215 3.672-3.059zM12 6a7 7 0 1 0 .001 14.001A7 7 0 0 0 12 6zm0 12c-2.764 0-5-2.236-5-5s2.236-5 5-5 5 2.236 5 5-2.236 5-5 5z",fill:"#FFF"}),h.a.createElement("path",{fill:"#FFF",fillRule:"nonzero",d:"M12.5 13h2.526v1H11.5V9.04h1z"})))}var q=o("PTAn"),Y=o.n(q);function FocusTimer_typeof(e){return(FocusTimer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FocusTimer_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FocusTimer_possibleConstructorReturn(e,t){return!t||"object"!==FocusTimer_typeof(t)&&"function"!=typeof t?function FocusTimer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FocusTimer_getPrototypeOf(e){return(FocusTimer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FocusTimer_setPrototypeOf(e,t){return(FocusTimer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function FocusTimer(e){var t;return function FocusTimer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FocusTimer),(t=FocusTimer_possibleConstructorReturn(this,FocusTimer_getPrototypeOf(FocusTimer).call(this,e))).state={popoverOpenOverride:void 0},t.updateTimer=function(){t.timerId&&(sessionStorage.getItem("timerPaused")||(t.calculateSecondsRemaining()<=1&&t.endTimer(),t.forceUpdate()))},t.endTimer=function(){window.clearInterval(t.timerId),t.timerId=null,t.setState({popoverOpenOverride:!0}),t.forceUpdate()},t.startTimer=function(e){(0,t.props.trackClick)({data:{target:"focustimer_commit"}}),t.timerId=window.setInterval(t.updateTimer,1e3),sessionStorage.setItem("timerDuration","".concat(e)),sessionStorage.setItem("timerStartTime","".concat(Date.now())),t.circleRef.current.style.animationDuration="".concat(60*e-1,"s"),t.circleRef.current.style.animationDelay="0s",t.forceUpdate()},t.resetTimer=function(){t.timerId&&(window.clearInterval(t.timerId),t.timerId=null),sessionStorage.removeItem("timerStartTime"),sessionStorage.removeItem("timerPaused"),t.forceUpdate()},t.pauseTimer=function(){(0,t.props.trackClick)({data:{target:"focustimer_pause"}}),t.circleRef.current.style.webkitAnimationPlayState="paused",sessionStorage.setItem("timerPaused","".concat(Date.now())),t.forceUpdate()},t.resumeTimer=function(){(0,t.props.trackClick)({data:{target:"focustimer_resume"}}),t.circleRef.current.style.webkitAnimationPlayState="running";var e=Number(sessionStorage.getItem("timerStartTime"))+(Date.now()-Number(sessionStorage.getItem("timerPaused")));sessionStorage.setItem("timerStartTime","".concat(e)),sessionStorage.removeItem("timerPaused"),t.forceUpdate()},t.clearPopoverOpenOverride=function(){(0,t.props.trackClick)({data:{target:"focustimer"}}),t.setState({popoverOpenOverride:void 0})},t.calculateSecondsRemaining=function(){return(Number(sessionStorage.getItem("timerStartTime"))+6e4*Number(sessionStorage.getItem("timerDuration"))-Date.now())/1e3},t.circleRef=h.a.createRef(),t}return function FocusTimer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FocusTimer_setPrototypeOf(e,t)}(FocusTimer,f["Component"]),function FocusTimer_createClass(e,t,o){return t&&FocusTimer_defineProperties(e.prototype,t),o&&FocusTimer_defineProperties(e,o),e}(FocusTimer,[{key:"componentDidMount",value:function componentDidMount(){var e=sessionStorage.getItem("timerDuration");if(e||sessionStorage.setItem("timerDuration","15"),sessionStorage.getItem("timerStartTime")){if(this.timerId=window.setInterval(this.updateTimer,1e3),!this.circleRef.current)return;this.circleRef.current.style.animationDuration="".concat(60*parseFloat(e)-1,"s");var t=this.calculateSecondsRemaining();this.circleRef.current.style.animationDelay="-".concat(60*parseFloat(e)-t,"s")}}},{key:"renderTimerState",value:function renderTimerState(){var e,t,o=this,n=Number(sessionStorage.getItem("timerDuration")),r=!!sessionStorage.getItem("timerPaused");return sessionStorage.getItem("timerStartTime")?(t=this.calculateSecondsRemaining(),e=Number.isNaN(t)?"errored":t>1?"running":"finished"):e="idle",{idle:h.a.createElement(T,{startTimer:this.startTimer,focusInterval:n}),running:h.a.createElement(D,{focusIntervalMinutes:n,secondsRemaining:t,cancelTimer:function cancelTimer(){(0,o.props.trackClick)({data:{target:"focustimer_cancel"}}),o.resetTimer()},pauseTimer:this.pauseTimer,resumeTimer:this.resumeTimer,isTimerPaused:r}),finished:h.a.createElement(z,{resetTimer:this.resetTimer}),errored:h.a.createElement(K,{resetTimer:this.resetTimer})}[e]}},{key:"render",value:function render(){var e=!!this.timerId,t=a()({[Y.a.alarm]:!0,[Y.a.activeAlarm]:e}),o=a()({[Y.a.timerCircle]:!0,[Y.a.inactiveTimerCircle]:!e}),n=h.a.createElement("div",{className:Y.a.alarmContainer},h.a.createElement(AlarmIcon,{className:t,"aria-label":"focus timer tool",role:"img"}),h.a.createElement(W,{circleRef:this.circleRef,circleRadius:14,circleLength:88,className:o}));return h.a.createElement("div",{className:Y.a.focusTimerToolContainer},h.a.createElement(w.a,{clickTarget:n,className:Y.a.dropdownToggle,open:this.state.popoverOpenOverride,onToggle:this.clearPopoverOpenOverride,showNipple:!1},h.a.createElement(O.a,{column:!0,className:Y.a.dropdown},h.a.createElement("div",{className:Y.a.content},this.renderTimerState()))))}}]),FocusTimer}(),Z={trackClick:C.g},X=Object(v.connect)(null,Z)(J),$=o("CCJX"),ee=o.n($);function Header_typeof(e){return(Header_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Header_extends(){return(Header_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Header_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Header_possibleConstructorReturn(e,t){return!t||"object"!==Header_typeof(t)&&"function"!=typeof t?function Header_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Header_getPrototypeOf(e){return(Header_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Header_setPrototypeOf(e,t){return(Header_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var te=function(e){function PlatformHeader(){return function Header_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlatformHeader),Header_possibleConstructorReturn(this,Header_getPrototypeOf(PlatformHeader).apply(this,arguments))}return function Header_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Header_setPrototypeOf(e,t)}(PlatformHeader,f["Component"]),function Header_createClass(e,t,o){return t&&Header_defineProperties(e.prototype,t),o&&Header_defineProperties(e,o),e}(PlatformHeader,[{key:"render",value:function render(){var e=[],t=[];if(t.push(h.a.createElement(s.a,{key:"focus-timer-tool"},h.a.createElement(X,null))),this.props.authoringMode){var o=a()("new-cc-icon","icon-edit",ee.a.authorModeTag);e.push(h.a.createElement("span",{className:o,key:"authoring"},"Authoring"))}u.a.hasGodMode()&&e.push(h.a.createElement(c.a,{key:"god-mode"},h.a.createElement(p.a,{setProgressToCurrentExercise:this.props.setProgressToCurrentExercise,prerender:this.props.prerender,currentWorkspace:this.props.workspace,nolock:this.props.nolock,authoringMode:this.props.authoringMode})));var n=h.a.createElement(b,null),i=a()(ee.a.header,this.props.className);return h.a.createElement(l.a,Header_extends({},this.props,{compact:!0,className:i,theme:"dark",wide:!0,titleRoute:r()(this.props,"exitPaths.back"),tabsRight:e,tabsLeft:t,statusDisplay:n,flags:{openUpgradeLinkInNewTab:!0},hideRegisterButton:!0,hideLoginButton:!0}))}}]),PlatformHeader}();t.a=Object(v.connect)(function mapStateToProps(e){return{title:Object(_.f)(e)}})(te)},CCJX:function(e,t,o){e.exports={authorModeTag:"authorModeTag___EayfIlZT-qUzbgXgOCRr"}},DQ1B:function(e,t,o){"use strict";var n=o("ncDI"),r=o.n(n),i=o("YLAG"),a=o("Td3C"),s=o("vH5F"),l=o("q1tI"),c=o.n(l);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function LegacyLearningEnvironment(){return function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,LegacyLearningEnvironment),_possibleConstructorReturn(this,_getPrototypeOf(LegacyLearningEnvironment).apply(this,arguments))}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(LegacyLearningEnvironment,c.a.Component),function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(LegacyLearningEnvironment,[{key:"componentDidMount",value:function componentDidMount(){this.resizeCallback=r()(window,"resize",function(){i.a.resized()}),this.onlineCallback=r()(window,"online",function(){Object(s.a)("info","Reconnected from offline state"),a.a.setOfflineState(!1)}),this.offlineCallback=r()(window,"offline",function(){a.a.setOfflineState(!0)})}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.resizeCallback),window.removeEventListener("online",this.onlineCallback),window.removeEventListener("offline",this.offlineCallback)}},{key:"render",value:function render(){return this.props.children}}]),LegacyLearningEnvironment}();t.a=u},HSVn:function(e,t,o){e.exports={copyContentControl:"copyContentControl__2_nJWm5SAnjrPglBWCDFCU",cta:"cta__11uZvWt-AkTuaIfgAOUIFu",ctaArrow:"ctaArrow__3AaRLFxB4fIS4anpFOkhD7",copyMessage:"copyMessage__1gNCMHDjjjn5QWMgoeBnlE",error:"error__SFqjB1Xa861hfQky8a6eH"}},"J5+O":function(e,t,o){e.exports={placeholder:"placeholder__KjOh5FOI619Opyu9M61NX",themeDark:"themeDark__Q862VUBqZrHP9hpY2nhL_",componentName:"componentName__2prxvDh1YEvK5mFXRnUBRb"}},KTF3:function(e,t,o){e.exports={frame:"frame__3Npa1q4ySrHCwd3HoJoTeR",browserChrome:"browserChrome__ql25cfW_rXyHKM-broNuK",urlBarContainer:"urlBarContainer__3oYtw7RRTOMdzcZXRHjIxU",urlBar:"urlBar__2XJptgMxLaw97WpDGRzrLb",urlError:"urlError___rFHnLAdMN44LoO6HEPgL",browserBody:"browserBody__1RMORVw-C6yaBuI18tjqG9",browserSkeleton:"browserSkeleton__1h964RBUrgNPLw8Rj_2W5V"}},LndF:function(e,t,o){e.exports=o.p+"9863bf17c1f2242a1bea6434fa8259a4.svg"},NCda:function(e,t,o){e.exports={videoContainer:"videoContainer__3maX1Zo5Va1CUCkWSVYNd9",video:"video__3kretw7NoqOh7wO32u0byE",youtube:"youtube__3-j34t9hIQY4wj1Y6uC_wn"}},NnrR:function(e,t,o){"use strict";var n=o("hhPA"),r=o.n(n),i=o("6YDM"),a={name:"AdapterStore",init:function init(){this._adapter=null,this._broadcast=null,this.listenToMany({onBroadcast:i.a.broadcast,onNewAdapter:i.a.newAdapter})},onBroadcast:function onBroadcast(){!this._adapter||!this._broadcast||arguments.length<1||this._broadcast.apply(this,arguments)},onNewAdapter:function onNewAdapter(e){this._adapter=e,this._broadcast=e.createComponentBroadcastFunction("Reflux"),this.trigger()}};r.a.createStore(a)},OepI:function(e,t,o){e.exports={savepointsButton:"savepointsButton__bPuLysUmKjmtslT2D5tf3",bulb:"bulb__1YWMqCarbY4e9JrFOklANL",solutionButton:"solutionButton__2lml5DqkY8OcwrR8uLGeGY"}},PTAn:function(e,t,o){e.exports={alarm:"alarm__1g3JpbcIctKncGGljmOq3R",lookHere:"lookHere__2dKCKkBT8zN6JPuy0otPgB",activeAlarm:"activeAlarm__3CLEZN4WSHlecFF-2LTL2Q",alarmContainer:"alarmContainer__2eKGJot3yREGqGTlWwbeBe",dropdown:"dropdown__4aDY5feqrtSeynH1N-Hgp",content:"content__3Jo4_VW8UAcvvEaARWO3EO",focusTimerToolContainer:"focusTimerToolContainer__3Jegu6NwA12fbtv7_tQPMr",status:"status__kfueBSg0MweQyZBbvHUMt",timerCircle:"timerCircle__1C7xMndMiRfciJq2KOrgsh",inactiveTimerCircle:"inactiveTimerCircle__1HFlTDSzMvjKrL4TfafH5l"}},QVXb:function(e,t,o){"use strict";var n=o("q1tI"),r=o.n(n),i=o("w7o4"),a=o("NuJE"),s=o("gnvm"),l=o("QqFe"),c=o("8/Hw"),u=o("90R5"),p=o("YDNT"),f=o("jOg1"),h=o.n(f);function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var d=function(e){function MaintenancePane(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MaintenancePane);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(MaintenancePane)).call.apply(e,[this].concat(n)))).state={notify:!1},t.notify=function(){Object(u.b)("user","click",{element:"maintenance_notify",slug:t.props.slug}),t.setState({notify:!0})},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(MaintenancePane,n["Component"]),function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(MaintenancePane,[{key:"renderNofiicationButton",value:function renderNofiicationButton(){if(p.a.isAnon())return null;var e=this.state.notify?"nuetral":"secondary";return r.a.createElement(l.a,{block:!0,theme:e,className:h.a.maintButton,onClick:this.notify},this.state.notify?"Ok we'll let you know!":"Notify Me When This Course Is Available")}},{key:"render",value:function render(){return r.a.createElement(i.a,{className:h.a.container},r.a.createElement(a.a,{grow:1,column:!0,className:h.a.itemRow,center:!0},r.a.createElement(a.a,{center:!0,className:h.a.iconContainer},r.a.createElement(s.a,{name:"maintenance",height:60,width:60,className:h.a.icon})),r.a.createElement("h1",{className:h.a.headerMsg},"Under Construction"),r.a.createElement(a.a,{column:!0,className:h.a.mainMsg},r.a.createElement("p",null,"Hey there,"),r.a.createElement("p",null,"We are currently having a service outage, and some of our content is unavailable. We are working hard to get this fixed, and appreciate your patience!"),r.a.createElement("p",null,"Keep up the good work!")),r.a.createElement(a.a,null,r.a.createElement(c.a,{href:"/catalog"},r.a.createElement(l.a,{theme:"secondary",className:h.a.maintButton},"Explore All Courses")),this.renderNofiicationButton())))}}]),MaintenancePane}();t.a=d},VBGW:function(e,t,o){e.exports={cmeditor:"cmeditor__2Gxggo8GsvlSZS4rMGa1zE",edFToolLayoutContainer:"edFToolLayoutContainer__bluSQDfautRGFZdw97pdD",mainContainer:"mainContainer__3O-RLBkFmh3eEUCeghKrhE",layoutCollapsed:"layoutCollapsed__3p1JrXw3YdUkz-6Oxzh7JF",noNavigator:"noNavigator__2uXwHyAk6ut119rOs87IUQ",includeFileNavTab:"includeFileNavTab__UIltNY2WrsMk92QbWFgqc",fileTabOpen:"fileTabOpen__tvjc6zVx7Vpx1NG8wmAko",tabsOffSet:"tabsOffSet__1Qw3ZoAvr9hwatPCHvW8i6",editorFooter:"editorFooter__3vMXEva7_RFPU2uMCO-X_H",codeEditorSkeleton:"codeEditorSkeleton__1SpkeaPSnKpxdl9SVssGOL"}},WdGf:function(e,t,o){e.exports={finishedState:"finishedState__2ye1XmX92Ea-CKZPz9fo2o",image:"image__3DXNhEPR2fvXjUAGb5MBtL"}},X958:function(e,t,o){e.exports={outputTerminalContainerSkeleton:"outputTerminalContainerSkeleton__3dtSayTOYvQyNDs3__kDO5",outputTerminalContainerSkeletonBody:"outputTerminalContainerSkeletonBody__1SI0cxPW_m2BSN5bZN5zj_"}},XlJx:function(e,t,o){"use strict";var n=o("BzM2"),r=o("YDNT"),i={componentShouldBeDisabled:function componentShouldBeDisabled(e){switch(e){case"Terminal":case"OutputTerminal":case"WebBrowser":case"PersistentCodeEditor":case"ReadOnlyCodeEditor":if(!this.state.workspaceReady)return!0}return!!(this.isExerciseLocked&&this.isExerciseLocked()||r.a.isAnon())}},a=o("q1tI"),s=o.n(a),l=o("JpqF"),c=o("90R5");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var u=function(e){function OutageWall(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutageWall);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(OutageWall)).call.apply(e,[this].concat(n)))).sendAway=function(){Object(c.b)("user","click",{target:"outageRedirect",skill:t.props.courseSlug}),window.location.replace("/learn")},t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(OutageWall,s.a.Component),function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(OutageWall,[{key:"render",value:function render(){return s.a.createElement(l.a,null,s.a.createElement("h2",null,"Sorry about that!"),s.a.createElement("p",null,"There are a lot of people taking this course right now! It might be unavailable until the crowd clears."),s.a.createElement("p",null,"Until then, how about taking one of our other courses?"),s.a.createElement("button",{onClick:this.sendAway,className:"button button--alernative fcn-wall__nav",type:"button"},"Browse More Courses"))}}]),OutageWall}(),p=o("hhPA"),f=o.n(p),h=o("+uL7"),d=f.a.createStore({name:"OutageStore",init:function init(){this.listenToMany(h.a)},onApologize:function onApologize(){this.trigger(!0)}}),m={componentDidMount:function componentDidMount(){d.listen(this.apologizeForOutage,this)},apologizeForOutage:function apologizeForOutage(){Object(c.b)("visit","outage_apology",{course:this.props.course.slug}),this.setState({wall:s.a.createElement(u,{courseSlug:this.props.course.slug})})}},y=o("tY4r");o.d(t,"a",function(){return g});var g=[n.StateMixin.connect(y.a),i,m]},ZtOw:function(e,t,o){e.exports={circle:"circle__3pNRYu0bYy1xRT5VkiL6Dn",rotate:"rotate__qHPa3KBeMXQDBB3TXWvkx",circleWatermark:"circleWatermark__2qn4VtNuLADc0mrsw8B5eI"}},bjkt:function(e,t,o){e.exports={error:"error__1WWJlsjdXeHae8UlspHJKX",finishedState:"finishedState__19z9NFlzpkw3JdDr2qGwtE",image:"image__3gadEGJYZfMVqwIs4r45j"}},cGMd:function(e,t,o){e.exports=o.p+"58bc6bc211514dbfbd8ed1add6a87a49.svg"},gdwT:function(e,t,o){"use strict";var n=o("gLAU"),r=o.n(n),i=o("zdiy"),a=o.n(i),s=o("mwIZ"),l=o.n(s),c=o("/MKj"),u=o("q1tI"),p=o.n(u),f=o("TSYQ"),h=o.n(f),d=o("g5A2");function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof(t)&&"function"!=typeof t?function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var m=function(e){function Slot(){var e,t;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Slot);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=_possibleConstructorReturn(this,(e=_getPrototypeOf(Slot)).call.apply(e,[this].concat(n)))).componentRef=p.a.createRef(),t}return function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf(e,t)}(Slot,u["PureComponent"]),function _createClass(e,t,o){return t&&_defineProperties(e.prototype,t),o&&_defineProperties(e,o),e}(Slot,[{key:"componentDidMount",value:function componentDidMount(){this.register()}},{key:"componentDidUpdate",value:function componentDidUpdate(){this.register()}},{key:"register",value:function register(){this.props.adapter.registerComponent&&this.props.adapter.registerComponent(this.props.component.name,this.componentRef.current)}},{key:"render",value:function render(){var e=this,t=this.props,o=t.slot,n=t.deferred,r=void 0===n||n,i=o.geometry,a=this.props.modifiers.disabled||this.props.modifiers.collapsed,s={position:"absolute",top:"".concat(100*i.top(),"%"),right:"".concat(100-100*i.right(),"%"),bottom:"".concat(100-100*i.bottom(),"%"),left:"".concat(100*i.left(),"%")},l=h()({"fcn-component":!0,enabled:!a,disabled:a,collapsed:this.props.modifiers.collapsed}),c=h()({"fcn-slot":!0,"fcn-slot--no-top-neighbor":i.soloEdges().top,"fcn-slot--no-right-neighbor":i.soloEdges().right,"fcn-slot--no-bottom-neighbor":i.soloEdges().bottom,"fcn-slot--no-left-neighbor":i.soloEdges().left,collapsed:this.props.modifiers.collapsed,"fcn-slot--collapsed-x":i.withinCollapseThreshold("x"),"fcn-slot--collapsed-y":i.withinCollapseThreshold("y")}),u=p.a.createElement("div",{id:"discovery-resize-".concat(this.props.locations),className:c,style:s,"data-fcn-arrangement":this.props.slot.arrangement.slots},p.a.createElement("div",{className:l},p.a.createElement("div",{className:"overlay"}),p.a.createElement(this.props.component.constructor,{presenter:this.props.component.presenter,user:this.props.user,broadcast:this.props.adapter.createComponentBroadcastFunction(this.props.component.name),modifiers:this.props.modifiers,helpers:this.props.helpers,geometry:this.props.slot.geometry,ref:this.componentRef})),i.withinCollapseThreshold("x")||i.withinCollapseThreshold("y")?p.a.createElement("div",{className:h()({"fcn-slot-snapped-button":!0,["fcn-slot-snapped-button--".concat(this.props.component.name)]:!0}),onClick:function onClick(){e.props.expandSlot(e.props.slot.geometry.id)}},p.a.createElement("div",{className:h()({"fcn-slot-snapped-button__icon":!0,"fcn-icon":!0,["fcn-icon-".concat(this.props.component.icon||"learn")]:!0})})):void 0);return r?p.a.createElement(d.a,null,u):u}}]),Slot}();m.defaultProps={deferred:!0};var y=m;function fullscreen_controls_typeof(e){return(fullscreen_controls_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fullscreen_controls_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function fullscreen_controls_possibleConstructorReturn(e,t){return!t||"object"!==fullscreen_controls_typeof(t)&&"function"!=typeof t?function fullscreen_controls_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function fullscreen_controls_getPrototypeOf(e){return(fullscreen_controls_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fullscreen_controls_setPrototypeOf(e,t){return(fullscreen_controls_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var g=function(e){function FullScreenControls(){return function fullscreen_controls_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FullScreenControls),fullscreen_controls_possibleConstructorReturn(this,fullscreen_controls_getPrototypeOf(FullScreenControls).apply(this,arguments))}return function fullscreen_controls_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fullscreen_controls_setPrototypeOf(e,t)}(FullScreenControls,p.a.Component),function fullscreen_controls_createClass(e,t,o){return t&&fullscreen_controls_defineProperties(e.prototype,t),o&&fullscreen_controls_defineProperties(e,o),e}(FullScreenControls,[{key:"render",value:function render(){var e=this.props.isFullscreen?"minimize":"fullscreen";return p.a.createElement("div",{"data-cue":"discovery-fullscreen",className:"fcn-control fcn-control--right",onClick:this.props.toggleFullscreen},p.a.createElement("span",{className:"fcn-icon fcn-icon-".concat(e)}))}}]),FullScreenControls}(),b=o("p8vB"),_=o("fhzG"),v=o.n(_),C=o("hhPA"),w=o.n(C),O=o("BzM2"),S=o("VHtI"),k=o("Yuk4"),P=o("F463"),E=o("4TZy"),T=o("3BzB"),R=w.a.createStore({name:"OrphanedFilesStore",mixins:[O.StateMixin.store],init:function init(){this.workspaceSlug=null,E.a.listen(this.checkWatchedFiles,this),this.listenTo(T.a.publishFilenames,this.setDefaultFiles),this.listenTo(T.a.loadFiles,this.resetOrphanedFiles)},getInitialState:function getInitialState(){return{orphaned:[],watching:[],notify:[]}},setDefaultFiles:function setDefaultFiles(e){this.setState({watching:e})},resetOrphanedFiles:function resetOrphanedFiles(){this.watching=[],this.setState({orphaned:[],watching:[]})},checkWatchedFiles:function checkWatchedFiles(e){if(e.workspaceObject&&e.workspaceReady){var t=[],o=!0,n=!1,r=void 0;try{for(var i,a=this.state.watching[Symbol.iterator]();!(o=(i=a.next()).done);o=!0){var s=i.value;void 0===e.workspaceObject.getFile(s)&&t.push(s)}}catch(e){n=!0,r=e}finally{try{o||null==a.return||a.return()}finally{if(n)throw r}}this.setState({orphaned:t})}}}),x=o("Td3C"),N=v()({displayName:"MissingFilesWall",mixins:[O.StateMixin.connect(R,["orphaned"],{onChange:"checkOrphans"})],getInitialState:function getInitialState(){return{phase:"inactive",notify:!0}},checkOrphans:function checkOrphans(){this.state.orphaned.length||this.setState({phase:"inactive"})},showConfirmation:function showConfirmation(){this.setState({phase:"confirmation"})},cancelAndClose:function cancelAndClose(){this.setState({notify:!1,phase:"inactive"})},resetFiles:function resetFiles(){this.setState({notify:!0,phase:"fixing"}),x.a.restore()},resetFilesContent:function resetFilesContent(){var e=this.state.orphaned[0],t=this.state.notify&&this.state.orphaned.length>0&&"confirmation"!==this.state.phase;return p.a.createElement(P.a,{isOpen:t,cancel:this.cancelAndClose,action:this.showConfirmation,actionText:"Reset Files",cancelText:"Ok"},p.a.createElement("div",null,p.a.createElement("h5",null,"Whoa there!"),p.a.createElement("p",null,"".concat(e," has been moved. This will cause problems with this exercise, please move ").concat(e," back to its original location, or reset your files"))))},resetFilesConfirmationContent:function resetFilesConfirmationContent(){var e=this.state.notify&&this.state.orphaned.length>0&&"confirmation"===this.state.phase;return p.a.createElement(P.a,{isOpen:e,cancel:this.cancelAndClose,action:this.resetFiles},p.a.createElement("div",null,p.a.createElement("h5",null,"Reset your files?"),p.a.createElement("p",null,"This will overwrite your existing files, and reset your progress to the beginning of this exercise")))},render:function render(){return p.a.createElement("div",null,"inactive"===this.state.phase?this.resetFilesContent():this.resetFilesConfirmationContent())}}),W=o("oDPV"),j=o("HVjC"),F=o("OeLb"),M=o("jH7T");function FileNavigatorLegacyReflux_typeof(e){return(FileNavigatorLegacyReflux_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FileNavigatorLegacyReflux_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function FileNavigatorLegacyReflux_possibleConstructorReturn(e,t){return!t||"object"!==FileNavigatorLegacyReflux_typeof(t)&&"function"!=typeof t?function FileNavigatorLegacyReflux_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function FileNavigatorLegacyReflux_getPrototypeOf(e){return(FileNavigatorLegacyReflux_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function FileNavigatorLegacyReflux_setPrototypeOf(e,t){return(FileNavigatorLegacyReflux_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,o[t])})}return e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var B=function createDirectories(e,t){return x.a.createDirectories(e,_objectSpread({overwriteExisting:!1},t))},D=function updateFiles(e,t){return x.a.updateFiles(e,_objectSpread({overwriteExisting:!1},t))},I=function deleteFile(e){return x.a.deleteFile(e).then(x.a.updateFileTree)},L=function openFile(e){var t=W.a(W.b(e));x.a.getFile(e,t).then(function(){F.a.openFile(M.a.emptyWithPath(e))})},A=function renameFile(e,t){return x.a.rename(e,t,{overwriteExisting:!1})},H=function(e){function FileNavigatorLegacyReflux(){return function FileNavigatorLegacyReflux_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FileNavigatorLegacyReflux),FileNavigatorLegacyReflux_possibleConstructorReturn(this,FileNavigatorLegacyReflux_getPrototypeOf(FileNavigatorLegacyReflux).apply(this,arguments))}return function FileNavigatorLegacyReflux_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&FileNavigatorLegacyReflux_setPrototypeOf(e,t)}(FileNavigatorLegacyReflux,u["Component"]),function FileNavigatorLegacyReflux_createClass(e,t,o){return t&&FileNavigatorLegacyReflux_defineProperties(e.prototype,t),o&&FileNavigatorLegacyReflux_defineProperties(e,o),e}(FileNavigatorLegacyReflux,[{key:"componentDidMount",value:function componentDidMount(){x.a.getFileTree()}},{key:"render",value:function render(){var e=this.props,t=e.open,o=e.workspaceDirectory,n=e.toggleLayout;return p.a.createElement(j.a,{open:t,directory:o,createDirectories:B,updateFiles:D,deleteFile:I,openFile:L,renameFile:A,toggleLayout:n})}}]),FileNavigatorLegacyReflux}(),z=Object(O.connect)(E.a,["workspaceDirectory"])(H),U=o("o0o1"),V=o.n(U),G=o("ABYF"),Q=o("gnvm"),K=o("N3f1"),q=o("HSVn"),Y=o.n(q);function CopyContentControl_typeof(e){return(CopyContentControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function asyncGeneratorStep(e,t,o,n,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _asyncToGenerator(e){return function(){var t=this,o=arguments;return new Promise(function(n,r){var i=e.apply(t,o);function _next(e){asyncGeneratorStep(i,n,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,n,r,_next,_throw,"throw",e)}_next(void 0)})}}function CopyContentControl_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CopyContentControl_possibleConstructorReturn(e,t){return!t||"object"!==CopyContentControl_typeof(t)&&"function"!=typeof t?function CopyContentControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CopyContentControl_getPrototypeOf(e){return(CopyContentControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CopyContentControl_setPrototypeOf(e,t){return(CopyContentControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var J=function(e){function CopyContentControl(){var e,t;!function CopyContentControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CopyContentControl);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=CopyContentControl_possibleConstructorReturn(this,(e=CopyContentControl_getPrototypeOf(CopyContentControl)).call.apply(e,[this].concat(n)))).state={message:"",error:!1},t.copyFile=_asyncToGenerator(V.a.mark(function _callee(){var e,o,n,r;return V.a.wrap(function _callee$(i){for(;;)switch(i.prev=i.next){case 0:return e=t.props,o=e.content,n=e.successMessage,r=e.failMessage,(0,e.trackClick)({data:{target:"copy_file"}}),i.prev=2,i.next=5,G.writeText(o);case 5:t.setState({message:n,error:!1}),i.next=11;break;case 8:i.prev=8,i.t0=i.catch(2),t.setState({message:r,error:!0});case 11:case"end":return i.stop()}},_callee,this,[[2,8]])})),t}return function CopyContentControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CopyContentControl_setPrototypeOf(e,t)}(CopyContentControl,u["Component"]),function CopyContentControl_createClass(e,t,o){return t&&CopyContentControl_defineProperties(e.prototype,t),o&&CopyContentControl_defineProperties(e,o),e}(CopyContentControl,[{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this.props.content;e.content!==t&&this.setState({message:"",error:!1})}},{key:"render",value:function render(){var e=this.state,t=e.message,o=e.error;return p.a.createElement("div",{className:Y.a.copyContentControl},p.a.createElement("span",{className:Y.a.cta},"Copy to Clipboard"),p.a.createElement("div",{className:Y.a.ctaArrow}),p.a.createElement(K.a,{className:"fcn-control",clickHandler:this.copyFile},p.a.createElement(Q.a,{name:"copy",size:20,"data-testid":"copy-content-control"}),p.a.createElement("span",{className:h()(Y.a.copyMessage,o&&Y.a.error),"data-testid":"copy-content-control-message".concat(o?"-error":"")},t)))}}]),CopyContentControl}();J.defaultProps={content:"",successMessage:"File copied!",failMessage:"There was a problem.",trackClick:function trackClick(){}};var Z=o("FqT+"),X=o("Xrcr"),$={clearErrorClicked:Z.e},ee=Object(c.connect)(function mapStateToProps(e){return{errors:Object(k.c)(e),hasErrors:Object(k.f)(e),passive:Object(k.g)(e)}},$)(X.a),te=o("HJ5Q"),oe=o("QlO6"),ne=o("Hutj"),re=o("wevG"),ie=o.n(re);function ResetWorkspaceControl_typeof(e){return(ResetWorkspaceControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ResetWorkspaceControl_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ResetWorkspaceControl_possibleConstructorReturn(e,t){return!t||"object"!==ResetWorkspaceControl_typeof(t)&&"function"!=typeof t?function ResetWorkspaceControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ResetWorkspaceControl_getPrototypeOf(e){return(ResetWorkspaceControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ResetWorkspaceControl_setPrototypeOf(e,t){return(ResetWorkspaceControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ae=function(e){function ResetWorkspaceControl(){var e,t;!function ResetWorkspaceControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ResetWorkspaceControl);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=ResetWorkspaceControl_possibleConstructorReturn(this,(e=ResetWorkspaceControl_getPrototypeOf(ResetWorkspaceControl)).call.apply(e,[this].concat(n)))).resetWorkspace=function(){t.props.onClick()},t}return function ResetWorkspaceControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ResetWorkspaceControl_setPrototypeOf(e,t)}(ResetWorkspaceControl,p.a.Component),function ResetWorkspaceControl_createClass(e,t,o){return t&&ResetWorkspaceControl_defineProperties(e.prototype,t),o&&ResetWorkspaceControl_defineProperties(e,o),e}(ResetWorkspaceControl,[{key:"render",value:function render(){return p.a.createElement("div",{className:ie.a.ResetWorkspaceControl},p.a.createElement("span",{className:ie.a.cta},S.learning_environment.components.reset_workspace_button.replace("%{noun}",this.props.noun)),p.a.createElement("div",{className:ie.a.ctaArrow}),p.a.createElement(K.a,{className:"fcn-control",clickHandler:this.resetWorkspace},p.a.createElement(ne.a,{name:"reset"})))}}]),ResetWorkspaceControl}(),se=o("+L3W"),le=o.n(se);function ShareCodeControl_typeof(e){return(ShareCodeControl_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ShareCodeControl_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ShareCodeControl_possibleConstructorReturn(e,t){return!t||"object"!==ShareCodeControl_typeof(t)&&"function"!=typeof t?function ShareCodeControl_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ShareCodeControl_getPrototypeOf(e){return(ShareCodeControl_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ShareCodeControl_setPrototypeOf(e,t){return(ShareCodeControl_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ce=function(e){function ShareCodeControl(){var e,t;!function ShareCodeControl_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ShareCodeControl);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=ShareCodeControl_possibleConstructorReturn(this,(e=ShareCodeControl_getPrototypeOf(ShareCodeControl)).call.apply(e,[this].concat(n)))).inviteAdvisor=function(){t.props.onClick()},t}return function ShareCodeControl_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ShareCodeControl_setPrototypeOf(e,t)}(ShareCodeControl,p.a.Component),function ShareCodeControl_createClass(e,t,o){return t&&ShareCodeControl_defineProperties(e.prototype,t),o&&ShareCodeControl_defineProperties(e,o),e}(ShareCodeControl,[{key:"render",value:function render(){return p.a.createElement("div",{className:le.a.shareCodeControl},p.a.createElement("span",{className:le.a.cta},"Share Code"),p.a.createElement("div",{className:le.a.ctaArrow}),p.a.createElement(K.a,{className:"fcn-control",clickHandler:this.inviteAdvisor},p.a.createElement(ne.a,{name:"share"})))}}]),ShareCodeControl}(),ue=o("JpqF"),pe=o("YDNT"),fe=o("WK95"),he=o("89RA"),de=o("pVWQ"),me=o("85qv"),ye=(o("C6/8"),o("bu/J")),ge=o("ZMKu"),be=o("QqFe"),_e=o("xkGU"),ve=o.n(_e),Ce=o("NuJE"),we=o("Rlp1"),Oe=o("7/as"),Se=o.n(Oe);function dot_typeof(e){return(dot_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dot_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dot_possibleConstructorReturn(e,t){return!t||"object"!==dot_typeof(t)&&"function"!=typeof t?function dot_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function dot_getPrototypeOf(e){return(dot_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function dot_setPrototypeOf(e,t){return(dot_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var ke,Pe=function(e){function ProgressDot(){return function dot_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressDot),dot_possibleConstructorReturn(this,dot_getPrototypeOf(ProgressDot).apply(this,arguments))}return function dot_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&dot_setPrototypeOf(e,t)}(ProgressDot,p.a.Component),function dot_createClass(e,t,o){return t&&dot_defineProperties(e.prototype,t),o&&dot_defineProperties(e,o),e}(ProgressDot,[{key:"render",value:function render(){var e=h()({[Se.a.dot]:!0,[Se.a.dotActive]:this.props.active});return p.a.createElement("div",{className:e})}}]),ProgressDot}();function ProgressElipse_typeof(e){return(ProgressElipse_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ProgressElipse_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ProgressElipse_possibleConstructorReturn(e,t){return!t||"object"!==ProgressElipse_typeof(t)&&"function"!=typeof t?function ProgressElipse_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ProgressElipse_getPrototypeOf(e){return(ProgressElipse_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ProgressElipse_setPrototypeOf(e,t){return(ProgressElipse_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ee=function(e){function ProgressElipse(){var e,t;!function ProgressElipse_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ProgressElipse);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=ProgressElipse_possibleConstructorReturn(this,(e=ProgressElipse_getPrototypeOf(ProgressElipse)).call.apply(e,[this].concat(n)))).state={activeDot:0},t.changeDot=function(){var e=t.state.activeDot;2===e?t.setState({activeDot:0}):(e+=1,t.setState({activeDot:e}))},t}return function ProgressElipse_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ProgressElipse_setPrototypeOf(e,t)}(ProgressElipse,p.a.Component),function ProgressElipse_createClass(e,t,o){return t&&ProgressElipse_defineProperties(e.prototype,t),o&&ProgressElipse_defineProperties(e,o),e}(ProgressElipse,[{key:"componentDidMount",value:function componentDidMount(){ke=setInterval(this.changeDot,300)}},{key:"componentWillUnmount",value:function componentWillUnmount(){clearInterval(ke)}},{key:"render",value:function render(){return p.a.createElement("div",{className:Se.a.progressElipse},p.a.createElement(Pe,{active:0===this.state.activeDot}),p.a.createElement(Pe,{active:1===this.state.activeDot}),p.a.createElement(Pe,{active:2===this.state.activeDot}))}}]),ProgressElipse}(),Te=o("zmXR"),Re=o.n(Te),xe=o("Y+p1"),Ne=o.n(xe),We=o("24Ii"),je=o.n(We),Fe=o("YZR6"),Me=null,Be=null;var De=function createGist(e){return new Promise(function(t,o){Ne()(Me,e)&&Be?t(Be):(Me=e,je.a.post("/gist").use(Fe.b).send(e).end(function(n,r){if(n)Be=null,o(n);else{Me=e;var i=JSON.parse(r.text).url;Be=i,t(i)}}))})};function CollaborationWallContent_typeof(e){return(CollaborationWallContent_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function CollaborationWallContent_asyncGeneratorStep(e,t,o,n,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function CollaborationWallContent_asyncToGenerator(e){return function(){var t=this,o=arguments;return new Promise(function(n,r){var i=e.apply(t,o);function _next(e){CollaborationWallContent_asyncGeneratorStep(i,n,r,_next,_throw,"next",e)}function _throw(e){CollaborationWallContent_asyncGeneratorStep(i,n,r,_next,_throw,"throw",e)}_next(void 0)})}}function CollaborationWallContent_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function CollaborationWallContent_possibleConstructorReturn(e,t){return!t||"object"!==CollaborationWallContent_typeof(t)&&"function"!=typeof t?function CollaborationWallContent_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function CollaborationWallContent_getPrototypeOf(e){return(CollaborationWallContent_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function CollaborationWallContent_setPrototypeOf(e,t){return(CollaborationWallContent_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ie=function createCollaborationUrl(){var e="".concat(window.location.origin+window.location.pathname,"?user_id=").concat(pe.a.id()),t="?user_id=".concat(pe.a.id());return window.history.pushState({userId:pe.a.id()},window.location.pathname,t),Object(ye.b)("project-collaboration-invite",{share_url:e}),e},Le=function(e){function CollaborationWall(){var e,t;!function CollaborationWallContent_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CollaborationWall);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=CollaborationWallContent_possibleConstructorReturn(this,(e=CollaborationWallContent_getPrototypeOf(CollaborationWall)).call.apply(e,[this].concat(n)))).state={responseMsg:null,url:""},t.onCopyClicked=CollaborationWallContent_asyncToGenerator(V.a.mark(function _callee(){var e;return V.a.wrap(function _callee$(o){for(;;)switch(o.prev=o.next){case 0:return e=t.state.url,o.prev=1,o.next=4,G.writeText(e);case 4:t.setState({responseMsg:"Link copied!",error:!1}),o.next=10;break;case 7:o.prev=7,o.t0=o.catch(1),t.setState({responseMsg:"uh oh! there was a problem copying the url!",error:!0});case 10:case"end":return o.stop()}},_callee,this,[[1,7]])})),t}return function CollaborationWallContent_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&CollaborationWallContent_setPrototypeOf(e,t)}(CollaborationWall,u["Component"]),function CollaborationWallContent_createClass(e,t,o){return t&&CollaborationWallContent_defineProperties(e.prototype,t),o&&CollaborationWallContent_defineProperties(e,o),e}(CollaborationWall,[{key:"createGistUrl",value:function createGistUrl(){var e=this,t={};ve()(this.props.files,function(e){t[e.name]={content:e.content}}),De({description:"Codecademy export",public:!1,files:t}).then(function(t){e.setState({url:t})})}},{key:"componentDidMount",value:function componentDidMount(){this.state.url||(this.props.gist?this.createGistUrl():this.setState({url:Ie()}))}},{key:"render",value:function render(){var e=h()({[Re.a.errorMsg]:this.state.error});return p.a.createElement(Ce.a,{column:!0},p.a.createElement("h5",null,"Copy the path below to share your code"),p.a.createElement(Ce.a,null,p.a.createElement("div",{className:Re.a.copyField},p.a.createElement(we.a,{className:Re.a.copyInputField,id:"collInput",value:this.state.url}),this.state.url?null:p.a.createElement(Ce.a,{flex:!0,center:!0,className:Re.a.loadingContainer},p.a.createElement(Ee,null))),p.a.createElement(be.a,{disabled:!this.state.url,onClick:this.onCopyClicked},"Copy")),p.a.createElement(Ce.a,{center:!0,flex:!0,className:Re.a.responseMsgContainer},p.a.createElement("span",{className:e},this.state.responseMsg)))}}]),CollaborationWall}(),Ae=o("bZTw"),He=o("T2dD"),ze=o("03So"),Ue=o("vH5F"),Ve=o("Jaxc"),Ge=o("OepI"),Qe=o.n(Ge);function SavepointsContainer_typeof(e){return(SavepointsContainer_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SavepointsContainer_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SavepointsContainer_possibleConstructorReturn(e,t){return!t||"object"!==SavepointsContainer_typeof(t)&&"function"!=typeof t?function SavepointsContainer_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SavepointsContainer_getPrototypeOf(e){return(SavepointsContainer_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SavepointsContainer_setPrototypeOf(e,t){return(SavepointsContainer_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Ke=function(e){function SavepointsContainer(){var e,t;!function SavepointsContainer_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SavepointsContainer);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=SavepointsContainer_possibleConstructorReturn(this,(e=SavepointsContainer_getPrototypeOf(SavepointsContainer)).call.apply(e,[this].concat(n)))).state={isModalOpen:!1,isButtonFlashing:!0,shouldOfferHelp:!1,lastOfferedHelp:0},t.trackClick=function(e){var o=t.props,n=o.course,r=o.lesson,i=o.exercise;t.props.trackClick({data:{target:e,lesson:r,exercise:i,skill:n}})},t.onButtonClick=function(){t.trackClick("savepointsSolutionButton"),t.setState({isModalOpen:!0,isButtonFlashing:!1})},t.closeModal=function(){t.setState({isModalOpen:!1,shouldOfferHelp:!1})},t.keepTrying=function(){t.trackClick("savepointsKeepTrying"),t.closeModal()},t.getAnswer=function(){t.trackClick("savepointsGetCode"),t.closeModal(),Object(Ue.a)("info","Savepoints restoring solution code and force passing checkpoints"),x.a.solution().then(t.props.forcePassClicked)},t}return function SavepointsContainer_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SavepointsContainer_setPrototypeOf(e,t)}(SavepointsContainer,u["Component"]),function SavepointsContainer_createClass(e,t,o){return t&&SavepointsContainer_defineProperties(e.prototype,t),o&&SavepointsContainer_defineProperties(e,o),e}(SavepointsContainer,[{key:"render",value:function render(){var e=this.state,t=e.isModalOpen,o=e.isButtonFlashing;return e.shouldOfferHelp?p.a.createElement("span",{className:Qe.a.savepointsButton},p.a.createElement(be.a,{flat:!0,theme:"white",className:Qe.a.solutionButton,go:o,onClick:this.onButtonClick},p.a.createElement(ze.a,{className:Qe.a.bulb,title:"Solution"}),S.learning_environment.components.code_editor.savepoints_button),p.a.createElement(Ve.a,{isOpen:t,keepTrying:this.keepTrying,getAnswer:this.getAnswer})):null}}],[{key:"getDerivedStateFromProps",value:function getDerivedStateFromProps(e,t){var o=e.failureCount,n=t.lastOfferedHelp,r={};0===o&&(r.shouldOfferHelp=!1,r.lastOfferedHelp=0);return n<o&&o%2==0&&(r.shouldOfferHelp=!0,r.lastOfferedHelp=o),r}}]),SavepointsContainer}(),qe={forcePassClicked:Z.g,trackClick:He.g},Ye=Object(c.connect)(function mapStateToProps(e){var t=Object(Ae.g)(e);return{course:t.trackSlug,exercise:t.exerciseSlug,lesson:t.contentItemSlug,failureCount:Object(k.e)(e)}},qe)(Ke),Je=o("G47O"),Ze=o("tY4r"),Xe=o("l8Mm"),$e=o("SHvf"),et=o("O1db"),tt=o("TUVh"),ot=o("l+xW"),nt=o.n(ot);function WorkspaceNameChooser_typeof(e){return(WorkspaceNameChooser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WorkspaceNameChooser_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function WorkspaceNameChooser_possibleConstructorReturn(e,t){return!t||"object"!==WorkspaceNameChooser_typeof(t)&&"function"!=typeof t?function WorkspaceNameChooser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function WorkspaceNameChooser_getPrototypeOf(e){return(WorkspaceNameChooser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function WorkspaceNameChooser_setPrototypeOf(e,t){return(WorkspaceNameChooser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var rt="blank-workspace",it=function(e){function WorkspaceNameChooser(){var e,t;!function WorkspaceNameChooser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WorkspaceNameChooser);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=WorkspaceNameChooser_possibleConstructorReturn(this,(e=WorkspaceNameChooser_getPrototypeOf(WorkspaceNameChooser)).call.apply(e,[this].concat(n)))).state={customSlug:t.props.workspaceSlug===rt?"":t.props.workspaceSlug},t.handleChange=function(e){t.setState({customSlug:e.target.value.replace(/\s/g,"-")})},t}return function WorkspaceNameChooser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&WorkspaceNameChooser_setPrototypeOf(e,t)}(WorkspaceNameChooser,u["Component"]),function WorkspaceNameChooser_createClass(e,t,o){return t&&WorkspaceNameChooser_defineProperties(e.prototype,t),o&&WorkspaceNameChooser_defineProperties(e,o),e}(WorkspaceNameChooser,[{key:"render",value:function render(){var e=this.props,t=e.saveWorkspace,o=e.workspaceSlug,n=e.generatedWorkspaceName;return p.a.createElement(Xe.a,{className:nt.a.workspaceNaming,onSubmit:t},p.a.createElement($e.a,null,"Workspace Name"),o&&o!==rt?p.a.createElement(et.a,{htmlFor:"currentWorkspaceSlug",label:p.a.createElement("div",null,p.a.createElement($e.a,null,"Current Name"),p.a.createElement("p",null,o)),name:"chooseWorkspaceSlug",className:nt.a.slugRadioButtons,value:o}):null,n!==o?p.a.createElement(et.a,{htmlFor:"generatedWorkspaceSlug",label:p.a.createElement("div",null,p.a.createElement($e.a,null,"Generated Name"),p.a.createElement("p",null,n)),name:"chooseWorkspaceSlug",className:nt.a.slugRadioButtons,value:n}):null,p.a.createElement(et.a,{htmlFor:"customWorkspaceSlug",label:p.a.createElement("div",{className:nt.a.customWorkspaceName},p.a.createElement($e.a,null,"Custom Name"),p.a.createElement(tt.a,{onChange:this.handleChange,value:this.state.customSlug})),name:"chooseWorkspaceSlug",className:nt.a.slugRadioButtons,value:this.state.customSlug}),p.a.createElement(be.a,{theme:"secondary",className:nt.a.saveWorkspaceButton,type:"submit"},"Save Workspace"))}}]),WorkspaceNameChooser}(),at=o("VBGW"),st=o.n(at),lt={trackClick:He.g},ct=v()({displayName:"CodeEditor",mixins:[O.StateMixin.connect(he.a,["files","active","hasReceivedCurrentFiles"]),O.StateMixin.connect(Ze.a),O.StateMixin.connect(E.a),w.a.listenTo(me.a,"onResize")],getInitialState:function getInitialState(){var e;return this.props.geometry&&(e={width:this.props.geometry.width(),height:this.props.geometry.height()}),{openResetWorkspaceWall:!1,openShareWall:!1,fileToolOpen:!1,hasTyped:!1,collapsed:!0,orphans:[],dimensions:e}},toggleLayout:function toggleLayout(){this.setState(function(e){return{collapsed:!e.collapsed,fileToolOpen:!e.fileToolOpen}})},toggleAuthoringMode:function toggleAuthoringMode(){de.a.adminChange("toggleWorkspaceNaming",!this.state.toggleWorkspaceNaming)},componentDidMount:function componentDidMount(){var e=this;window.addEventListener("keydown",this.onKeyDown),ye.a&&(Object(ye.a)("onShow",function(){e.setState({intercomOpen:!0})}),Object(ye.a)("onHide",function(){e.setState({intercomOpen:!1})}))},componentWillUnmount:function componentWillUnmount(){window.removeEventListener("keydown",this.onKeyDown)},isEvaluateExerciseEvent:function isEvaluateExerciseEvent(e){return 13===e.keyCode&&(navigator.platform.match("Mac")?e.metaKey:e.ctrlKey)},isResetExerciseEvent:function isResetExerciseEvent(e){return 71===e.keyCode&&(navigator.platform.match("Mac")?e.ctrlKey:e.altKey)},onKeyDown:function onKeyDown(e){if(this.isEvaluateExerciseEvent(e))this.submitClick();else{if(!this.openResetWorkspaceWall||!this.isResetExerciseEvent(e))return!0;this.openResetWorkspaceWall()}return e.preventDefault(),!1},normalizeFileKeys:function normalizeFileKeys(e){return e.map(function(e){return{name:e.filename,type:e.type}})},setOrphans:function setOrphans(e){e.length>this.state.orphans.length&&(this.setState({orphans:e}),this.setState({hasNewOrphan:!0}))},onResize:function onResize(){this.refs.editor&&this.refs.editor.refresh()},onClick:function onClick(){this.refs.editor&&this.refs.editor.codeMirror.focus()},processFiles:function processFiles(){var e=this;return new Promise(function(t){e.props.presenter.hasCheckWork?x.a.autoSaveFiles().then(t):t()})},onModelChanged:function onModelChanged(e){var t=this,o=this.state.files[this.state.active];o&&o.content!==e&&(this.setState({persistingFiles:!0}),F.a.updateFile(o,e).then(function(){t.processFiles().then(function(){t.setState({persistingFiles:!1})})}),this.state.hasTyped||this.setState({hasTyped:!0}))},submitClick:function submitClick(){var e=this;this.state.offerAnswer&&this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1,hasTyped:!1}),this.setState({persistingFiles:!0}),this.props.presenter.evaluateExercise().then(function(){e.setState({persistingFiles:!1})}).catch(function(t){600===t.code&&e.props.broadcast("error",{visible:!0,timestamp:(new Date).valueOf(),friendly:t.message,component:"PersistentCodeEditor"}),e.setState({persistingFiles:!1})})},saveWorkspace:function saveWorkspace(e){e.preventDefault();var t,o=e.target.elements,n=o.currentWorkspaceSlug,r=o.generatedWorkspaceSlug,i=o.customWorkspaceSlug;n&&n.checked?t=n.value:i.checked?t=i.value:r.checked&&(t=r.value),""!==t&&x.a.saveFilesAndCheckWork().then(function(){return x.a.getFetchUrl(t)}).then(function(e){return x.a.persist(e,t)}).then(this.toggleAuthoringMode)},onEditorFocus:function onEditorFocus(){this.state.offerAnswer&&(this.props.broadcast("keepTrying"),this.setState({offerAnswer:!1}))},updateTree:function updateTree(){this.props.broadcast("getFileTree")},offerAnswer:function offerAnswer(){this.setState({offerAnswer:!0})},resetWorkspace:function resetWorkspace(){var e=function noop(){};return this.props.trackClick({data:{target:"platformResetWorkspace"}}),"project"===this.props.presenter.contentItemType?x.a.reset().then(this.closeResetWorkspaceWall,e):x.a.restore().then(this.closeResetWorkspaceWall,e)},renderHeader:function renderHeader(){return p.a.createElement("div",{className:"fcn-component-header"},this.renderTabs())},renderEditorOrPlaceholder:function renderEditorOrPlaceholder(){return Object(fe.a)(this.state)?p.a.createElement("div",{className:st.a.codeEditorSkeleton},p.a.createElement(Je.a,null)):this.state.files.length>0?this.renderEditor():this.renderPlaceholder()},renderEditor:function renderEditor(){var e=this.props.modifiers,t={};return(void 0===e?{}:e).disableLinting&&(t.lint=!1),p.a.createElement(oe.a,{ref:"editor",file:this.activeFile(),className:st.a.cmeditor,onFocus:this.onEditorFocus,onChange:this.onModelChanged,options:t,persistingFiles:this.state.persistingFiles})},_ignoreOrphan:function _ignoreOrphan(){this.setState({hasNewOrphan:!1})},_keepTrying:function _keepTrying(){this.setState({offerAnswer:!1}),this.props.broadcast("keepTrying")},_showAnswer:function _showAnswer(){this.setState({offerAnswer:!1}),this.props.broadcast("showAnswer")},openCollaborationWall:function openCollaborationWall(){this.setState({openShareWall:!0})},openResetWorkspaceWall:function openResetWorkspaceWall(){this.props.trackClick({data:{target:"platformResetWorkspaceDialog"}}),this.setState({openResetWorkspaceWall:!0})},closeCollaborationWall:function closeCollaborationWall(){this.setState({openShareWall:!1})},closeResetWorkspaceWall:function closeResetWorkspaceWall(){this.setState({openResetWorkspaceWall:!1})},renderFooter:function renderFooter(){var e=this.props.presenter,t=this.state,o=t.authoringMode,n=t.toggleWorkspaceNaming;return p.a.createElement("div",{className:"editor-footer-container"},e.displayErrors&&p.a.createElement(ee,{onVisibilityToggle:this.onResize}),p.a.createElement("div",{className:"fcn-tabs-container"},o&&n?p.a.createElement(it,{saveWorkspace:this.saveWorkspace,workspaceSlug:E.a.state.workspaceSlug,generatedWorkspaceName:this.props.presenter.generatedWorkspaceName}):null,this.renderFooterButtons()))},renderFooterButtons:function renderFooterButtons(){var e=this.props.trackClick,t=this.state.persistingFiles||this.props.checkpointsRunning,o=t||0===this.state.files.length,n=this.props.modifiers.isProject?S.learning_environment.components.code_editor.save:S.learning_environment.components.code_editor.run,r=this.props.modifiers.isProject?S.learning_environment.components.code_editor.project:S.learning_environment.components.code_editor.exercise;return p.a.createElement("div",{className:"editor-footer__buttons"},p.a.createElement("div",{className:st.a.editorFooter},!this.props.presenter.hasCheckWork&&p.a.createElement(be.a,{square:!0,theme:"royalblue",go:!o&&this.state.hasTyped,disabled:o,onClick:t?null:this.submitClick,style:{minWidth:80},"data-testid":"run-button"},t?p.a.createElement("div",{className:"fcn-spinner"}):n),p.a.createElement(ge.b.div,{animate:{opacity:1,marginTop:0},initial:{opacity:0,marginTop:"30px"},transition:{duration:.5}},p.a.createElement(ae,{noun:r,onClick:this.openResetWorkspaceWall})),pe.a.isPro()?p.a.createElement("div",{className:"peer-controls"},p.a.createElement(ge.b.div,{animate:{opacity:1,marginTop:0},initial:{opacity:0,marginTop:"30px"},transition:{duration:.5}},p.a.createElement(ce,{intercomOpen:this.state.intercomOpen,onClick:this.openCollaborationWall}))):null,p.a.createElement(ge.b.div,{animate:{opacity:1,marginTop:0},initial:{opacity:0,marginTop:"30px"},transition:{duration:.5}},p.a.createElement(J,{trackClick:e,content:this.activeFileContent()})),p.a.createElement(Ye,null)),this.state.authoringMode?p.a.createElement(be.a,{theme:"lantern",onClick:this.toggleAuthoringMode,style:{minWidth:"9rem"}},this.state.toggleWorkspaceNaming?"Back":"Save Workspace"):null)},placeholderTab:function placeholderTab(){return p.a.createElement(K.a,{key:"codeEditorTab-empty",isActive:!0,size:100,canClose:!1,clickHandler:function clickHandler(){},closeHandler:function closeHandler(){}})},tabsData:function tabsData(){var e=this,t=[];return Object(fe.a)(this.state)?(t.push(this.placeholderTab()),t):this.state.files&&this.state.files.length>0?(this.state.files.forEach(function(o,n){if(!o.isDir){var r=e.state.active===n,i=100/e.state.files.length,a=o.name.split("/"),s=a[a.length-1],l=o.path;t.push(p.a.createElement(K.a,{title:s,key:"codeEditorTab-".concat(l),isActive:r,tabId:n,size:i,canClose:!e.props.presenter.navigator_disabled||e.state.authoringMode,clickHandler:F.a.setCurrentOpenFile,closeHandler:F.a.closeFile}))}}),t):t},renderTabs:function renderTabs(){var e=this.tabsData(),t=h()({[st.a.tabsOffSet]:this.state.collapsed});return p.a.createElement("div",{className:t},p.a.createElement(te.a,null,e,p.a.createElement(K.a,{className:"fcn-control",key:"codeEditorTab-fullscreen","data-cue":"discovery-fullscreen",clickHandler:this.props.helpers.toggleFullscreen,canClose:!1,align:"right"},p.a.createElement(ne.a,{name:"fullscreen"}))))},renderPlaceholder:function renderPlaceholder(){return p.a.createElement("div",{className:"fcn-code-editor__placeholder"},p.a.createElement("div",{className:"fcn-code-editor__placeholder__icon",style:{paddingRight:12}},p.a.createElement(ne.a,{name:"file-alt",size:3})),p.a.createElement("div",{style:{marginTop:15}},"Code Editor"),this.state.hasReceivedCurrentFiles&&!this.state.fileToolOpen?p.a.createElement(be.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.toggleLayout},"Open file"):null)},activeFile:function activeFile(){if(null!==this.state.active)return this.state.files[this.state.active]},activeFileContent:function activeFileContent(){var e=this.activeFile();return e?e.content:""},reloadFile:function reloadFile(e){if(this.state.files&&this.state.files.map(function(e){return e.path}).indexOf(e)>-1){var t=W.a(W.b(e));F.a.reloadFile(e,t)}},render:function render(){var e=h()({editor:!0,[st.a.layoutCollapsed]:this.state.collapsed,[st.a.noNavigator]:this.props.presenter.navigator_disabled,[st.a.includeFileNavTab]:this.state.authoringMode,[st.a.fileTabOpen]:!this.state.collapsed}),t=h()({[st.a.mainContainer]:!0});return p.a.createElement("div",{onKeyUp:this.onKeyUp,className:t},p.a.createElement(N,null),p.a.createElement(P.a,{isOpen:this.state.openResetWorkspaceWall,cancel:this.closeResetWorkspaceWall,action:this.resetWorkspace,actionText:"Reset",cancelText:"Cancel",wallOverlayType:"screen"},p.a.createElement("h2",null,S.learning_environment.components.code_editor.reset_workspace_confirmation_title),p.a.createElement("p",null,S.learning_environment.components.code_editor.reset_workspace_confirmation_content)),p.a.createElement(ue.a,{isOpen:this.state.openShareWall,dismiss:this.closeCollaborationWall},p.a.createElement(Le,{gist:!0,files:this.state.files})),p.a.createElement("div",{className:st.a.edFToolLayoutContainer},!this.props.presenter.navigator_disabled||this.state.authoringMode?p.a.createElement(z,{open:this.state.fileToolOpen,toggleLayout:this.toggleLayout}):null,p.a.createElement("div",{className:e},this.renderHeader(),p.a.createElement("div",{onClick:this.onClick,className:h()({"editor-container":"true"})},this.renderEditorOrPlaceholder()),this.renderFooter())))}}),ut=Object(c.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(k.h)(e)}},lt,null,{forwardRef:!0})(ct);var pt=function Image(e){var t=e.presenter;return p.a.createElement("div",{className:"francine-image__container"},p.a.createElement("img",{src:t.image_url,alt:t.alt_text,className:"fit-full francine-image"}))},ft=o("Y5Sq"),ht=o("TVOw"),dt=o("NCda"),mt=o.n(dt);function Video_typeof(e){return(Video_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e}).apply(this,arguments)}function Video_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Video_possibleConstructorReturn(e,t){return!t||"object"!==Video_typeof(t)&&"function"!=typeof t?function Video_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Video_getPrototypeOf(e){return(Video_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Video_setPrototypeOf(e,t){return(Video_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var yt=function(e){function Video(){return function Video_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Video),Video_possibleConstructorReturn(this,Video_getPrototypeOf(Video).apply(this,arguments))}return function Video_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Video_setPrototypeOf(e,t)}(Video,p.a.Component),function Video_createClass(e,t,o){return t&&Video_defineProperties(e.prototype,t),o&&Video_defineProperties(e,o),e}(Video,[{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.refs.video;e&&(e.pause(),e.src="",e.onloadstart=function(){},e.load())}},{key:"videoUrl",value:function videoUrl(){return this.props.presenter.video_urls&&this.props.presenter.video_urls[0]}},{key:"hasYouTube",value:function hasYouTube(){var e=this.videoUrl();return e&&e.match(/youtu(be\.com|\.be)/)}},{key:"renderYouTube",value:function renderYouTube(){var e=this.videoUrl(),t=Object(ht.gb)(e);return p.a.createElement(ft.a,{className:mt.a.youtube,containerClassName:mt.a.videoContainer,videoId:t,playerVars:{autoplay:this.props.presenter.autoplay?1:0,loop:this.props.presenter.loop?1:0,controls:this.props.presenter.show_controls?1:0}})}},{key:"render",value:function render(){if(this.hasYouTube())return this.renderYouTube();var e={};return this.props.presenter.autoplay&&(e.autoPlay=!0),this.props.presenter.loop&&(e.loop=!0),this.props.presenter.muted&&(e.muted=!0),this.props.presenter.show_controls&&(e.controls=!0),p.a.createElement("div",{className:mt.a.videoContainer,ref:"container"},p.a.createElement("video",_extends({ref:"video",className:mt.a.video},e),this.props.presenter.video_urls.map(function(e){return p.a.createElement("source",{key:e,src:e})})))}}]),Video}(),gt=o("VsuG"),bt=o("fdV1"),_t=o("M96Q"),vt=o("I+VG"),Ct=o("cITI"),wt=o("nD6a"),Ot=o("YLAG"),St=o("5vvp"),kt=o("z4aL"),Pt=o.n(kt),Et=v()({displayName:"TerminalContainer",mixins:[w.a.listenTo(Ot.a.resized,"onResize"),w.a.listenTo(x.a.restore.completed,"resetTerminals"),O.StateMixin.connect(E.a,["workspaceReady","workspaceStatusType"]),O.StateMixin.connect(Ct.a,["sessions","busy","currentSession","hasCreatedSessionBefore","fontSize","hasFocus"])],componentDidMount:function componentDidMount(){var e=this;this.state.workspaceReady?this.createInitialTerminal():this.unsubSetWorkspace=x.a.setWorkspace.completed.listen(function(){return e.setState({workspaceReady:!0})}),St.a.saveTerminalReference(this)},componentWillUnmount:function componentWillUnmount(){this.unsubSetWorkspace&&this.unsubSetWorkspace()},createInitialTerminal:function createInitialTerminal(){var e=this;0===this.state.sessions.length&&wt.a.createSession("bash").then(function(){e.props.onReady&&e.props.onReady()})},componentDidUpdate:function componentDidUpdate(e,t){var o=this;t.currentSession!==this.state.currentSession&&this.state.hasFocus&&this.getActiveTerminal()&&r()(function(){o.getActiveTerminal().focus()}),t.workspaceReady&&!this.state.workspaceReady&&wt.a.closeAllSessions(),!t.workspaceReady&&this.state.workspaceReady&&this.createInitialTerminal()},getActiveTerminal:function getActiveTerminal(){var e=Ct.a.currentSession();return e?this.refs[e.id]:null},getAllTerminals:function getAllTerminals(){var e=this;return this.state.sessions.map(function(t){return e.refs[t.id]})},onResize:function onResize(){var e=this.getAllTerminals();if(e&&e.length){var t=this.getActiveTerminal();if(t&&!t.state.fake&&t.refRealTerminal){var o=t.refRealTerminal.getRowsCols(),n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.resize(o)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}}},resetTerminals:function resetTerminals(){this.replaceState(Object.assign({},this.getInitialState(),{workspaceReady:this.state.workspaceReady})),this.createInitialTerminal()},renderTerminal:function renderTerminal(e,t){var o=this;return p.a.createElement(_t.a,{key:t.id,ref:t.id,session:t,terminalId:t.id,fakeResponses:this.props.presenter.fake_responses,handleRealResponse:function handleRealResponse(e,t){o.props.broadcast("input",e,t)},onFocus:wt.a.focus,onBlur:wt.a.blur,isActive:e===this.state.currentSession,hasCheckWork:this.props.presenter.hasCheckWork,workspaceReady:this.state.workspaceReady,fontSize:this.state.fontSize,hasFocus:this.state.hasFocus,checkpointRun:function checkpointRun(){return St.a.run()},setFontSize:function setFontSize(e){wt.a.setFontSize(e)},closeSession:function closeSession(e){wt.a.closeSession(e)}})},createNewTerminal:function createNewTerminal(){wt.a.createSession("bash")},render:function render(){var e=this.props.presenter,t=e.hasCheckWork,o=e.displayErrors,n=e.whitelist,r=[],i=Object(fe.a)(this.state);if(i)r=p.a.createElement("div",{className:Pt.a.terminalContainerSkeleton},p.a.createElement(Je.a,null));else if(this.state.sessions&&this.state.sessions.length>0)for(var a=0;a<this.state.sessions.length;a+=1){var s=this.state.sessions[a];r.push(this.renderTerminal(a,s))}else r=p.a.createElement("div",{className:"fcn-terminal-container__placeholder"},p.a.createElement("div",{className:"fcn-terminal-container__placeholder__body"},p.a.createElement("div",{className:"fcn-terminal-container__placeholder__icon fcn-icon fcn-icon-terminal"}),p.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},"Terminal"),this.state.hasCreatedSessionBefore&&!this.state.busy?p.a.createElement("span",{className:"fcn-terminal-container__placeholder__text"},p.a.createElement(be.a,{theme:"lantern",style:{marginTop:20},outline:!0,onClick:function onClick(){wt.a.createSession("bash")}},"New session")):null));var l=p.a.createElement(vt.a,{isLoading:i,isBusy:this.state.busy,canCreateSession:Ct.a.canCreateSession(),whitelist:n,currentSessionIndex:this.state.currentSession,sessions:this.state.sessions.map(function(e){return{id:e.id,title:e.title}}),toggleFullscreen:this.props.helpers.toggleFullscreen,createNewTerminal:this.createNewTerminal,selectTerminalSession:wt.a.selectSession,closeTerminalSession:wt.a.closeSession}),c=p.a.createElement("div",{className:"fcn-component-footer"},p.a.createElement(te.a,null,p.a.createElement(be.a,{square:!0,theme:"lantern",onClick:this.props.presenter.evaluateExercise,block:!0},"project"===this.props.presenter.contentItemType?S.learning_environment.components.terminal.refresh_browser:S.learning_environment.components.terminal.run_checkpoints)));return p.a.createElement("div",{className:"fcn-terminal-container fcn-terminal-container--with-header"},l,r,o&&p.a.createElement(ee,{onVisibilityToggle:this.onResize}),t?c:null)}}),Tt=(o("oJ6+"),o("nnJn")),Rt=o("FdhO"),xt=o("zqxM"),Nt=o.n(xt),Wt=o("i8i4"),jt=o.n(Wt),Ft=o("EVdn"),Mt=o.n(Ft),Bt=o("qpQO"),Dt=o("X958"),It=o.n(Dt);function OutputTerminal_typeof(e){return(OutputTerminal_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function OutputTerminal_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function OutputTerminal_possibleConstructorReturn(e,t){return!t||"object"!==OutputTerminal_typeof(t)&&"function"!=typeof t?function OutputTerminal_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function OutputTerminal_getPrototypeOf(e){return(OutputTerminal_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function OutputTerminal_setPrototypeOf(e,t){return(OutputTerminal_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Lt={stdout:"jqconsole-stdout",stderr:"jqconsole-stderr"},At=function(e){function OutputTerminal(){return function OutputTerminal_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,OutputTerminal),OutputTerminal_possibleConstructorReturn(this,OutputTerminal_getPrototypeOf(OutputTerminal).apply(this,arguments))}return function OutputTerminal_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&OutputTerminal_setPrototypeOf(e,t)}(OutputTerminal,p.a.Component),function OutputTerminal_createClass(e,t,o){return t&&OutputTerminal_defineProperties(e.prototype,t),o&&OutputTerminal_defineProperties(e,o),e}(OutputTerminal,[{key:"componentDidMount",value:function componentDidMount(){var e=jt.a.findDOMNode(this.refs.terminal);this.jqc=Mt()(e).jqconsole("","","")}},{key:"componentDidUpdate",value:function componentDidUpdate(e){var t=this,o=this.props.output;o!==e.output&&o.length&&Nt()(o,e.output).forEach(function(e){t.jqc.Write(e.text,Lt[e.type])}),0===o.length&&this.jqc.Reset(),!e.awaitingInput&&this.props.awaitingInput&&this.jqc.Prompt(!0,function(e){t.props.handleInput(e)})}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.jqc.$input_source.off()}},{key:"renderTerminal",value:function renderTerminal(){var e=h()({"fcn-terminal":!0,"fcn-terminal--active":!0,jqconsole:!0,"jqconsole-cursor--blink":this.props.awaitingInput});return p.a.createElement("div",{style:{height:"100%"}},p.a.createElement("div",{className:"fcn-terminal-container"},p.a.createElement("div",{ref:"terminal",className:e})))}},{key:"renderPlaceholder",value:function renderPlaceholder(){return p.a.createElement("div",{style:{height:"100%"}},p.a.createElement("div",{className:"fcn-terminal-container"},p.a.createElement("div",{ref:"terminal"}),p.a.createElement("div",{className:It.a.outputTerminalContainerSkeleton},p.a.createElement("div",{className:It.a.outputTerminalContainerSkeletonBody},p.a.createElement(Bt.a,null)))))}},{key:"render",value:function render(){var e=this.props,t=e.workspaceReady,o=e.workspaceStatusType;return Object(fe.a)({workspaceReady:t,workspaceStatusType:o})?this.renderPlaceholder():this.renderTerminal()}}]),OutputTerminal}(),Ht=v()({displayName:"OutputTerminalRefluxContainer",mixins:[O.StateMixin.connect(Tt.a,["output","awaitingInput"]),O.StateMixin.connect(E.a,["workspaceStatusType","workspaceReady"])],handleInput:function handleInput(e){Rt.a.input(e)},render:function render(){return p.a.createElement(At,{awaitingInput:this.state.awaitingInput,handleInput:this.handleInput,output:this.state.output,workspaceReady:this.state.workspaceReady,workspaceStatusType:this.state.workspaceStatusType})}}),zt=o("Te3R"),Ut=o("WCpy"),Vt=o("lWZ/"),Gt=o("J5+O"),Qt=o.n(Gt);function PlaceHolder_typeof(e){return(PlaceHolder_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PlaceHolder_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function PlaceHolder_possibleConstructorReturn(e,t){return!t||"object"!==PlaceHolder_typeof(t)&&"function"!=typeof t?function PlaceHolder_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function PlaceHolder_getPrototypeOf(e){return(PlaceHolder_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function PlaceHolder_setPrototypeOf(e,t){return(PlaceHolder_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Kt=function(e){function PlaceHolder(){return function PlaceHolder_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PlaceHolder),PlaceHolder_possibleConstructorReturn(this,PlaceHolder_getPrototypeOf(PlaceHolder).apply(this,arguments))}return function PlaceHolder_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&PlaceHolder_setPrototypeOf(e,t)}(PlaceHolder,u["Component"]),function PlaceHolder_createClass(e,t,o){return t&&PlaceHolder_defineProperties(e.prototype,t),o&&PlaceHolder_defineProperties(e,o),e}(PlaceHolder,[{key:"render",value:function render(){var e=this.props.theme,t=h()({[Qt.a.placeholder]:!0,[Qt.a.themeDark]:"dark"===e});return p.a.createElement(Ce.a,{grow:1,center:!0,column:!0,className:t},p.a.createElement(ne.a,{name:this.props.icon,size:3}),p.a.createElement("div",{className:Qt.a.componentName},this.props.componentName),this.props.actionCallBack?p.a.createElement(be.a,{disabled:!this.props.actionButtonEnabled,theme:"lantern",style:{marginTop:20},outline:!0,onClick:this.props.actionCallBack},this.props.action):null)}}]),PlaceHolder}();Kt.defaultProps={theme:"light"};var qt=Kt,Yt=o("KTF3"),Jt=o.n(Yt);function RemoteWebBrowser_typeof(e){return(RemoteWebBrowser_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RemoteWebBrowser_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function RemoteWebBrowser_possibleConstructorReturn(e,t){return!t||"object"!==RemoteWebBrowser_typeof(t)&&"function"!=typeof t?function RemoteWebBrowser_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function RemoteWebBrowser_getPrototypeOf(e){return(RemoteWebBrowser_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RemoteWebBrowser_setPrototypeOf(e,t){return(RemoteWebBrowser_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var Zt=function(e){function RemoteWebBrowser(){var e,t;!function RemoteWebBrowser_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RemoteWebBrowser);for(var o=arguments.length,n=new Array(o),r=0;r<o;r++)n[r]=arguments[r];return(t=RemoteWebBrowser_possibleConstructorReturn(this,(e=RemoteWebBrowser_getPrototypeOf(RemoteWebBrowser)).call.apply(e,[this].concat(n)))).iframeRef=p.a.createRef(),t.handleSendIframeMessage=function(e){t.getIframe().contentWindow.postMessage(e,"*")},t.getIframe=function(){return t.iframeRef.current},t}return function RemoteWebBrowser_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&RemoteWebBrowser_setPrototypeOf(e,t)}(RemoteWebBrowser,u["Component"]),function RemoteWebBrowser_createClass(e,t,o){return t&&RemoteWebBrowser_defineProperties(e.prototype,t),o&&RemoteWebBrowser_defineProperties(e,o),e}(RemoteWebBrowser,[{key:"componentDidMount",value:function componentDidMount(){var e=this.props,t=e.onBrowserMessage,o=e.bindBrowserListener;window.addEventListener("message",t,!1),this.removeMessageListener=o(this.handleSendIframeMessage)}},{key:"componentWillUnmount",value:function componentWillUnmount(){var e=this.props.onBrowserMessage;window.removeEventListener("message",e),this.removeMessageListener()}},{key:"render",value:function render(){var e=this.props,t=e.refreshCount,o=e.src,n=e.onBrowserLoad;return p.a.createElement("iframe",{title:"Codecademy Web Browser",ref:this.iframeRef,onLoad:n,key:t,allowFullScreen:!0,className:Jt.a.frame,allow:"geolocation; microphone; camera",src:o})}}]),RemoteWebBrowser}(),Xt=o("WKF/");var $t,eo=function WebBrowser(e){var t,o=e.urlBarRef,n=e.browserRef,r=e.bindBrowserListener,i=e.onUrlFieldFocus,a=e.onUrlFieldBlur,s=e.onUrlBarKeyDown,l=e.onUrlBarChange,c=e.onToggleFullscreen,u=e.onBack,f=e.onRefresh,h=e.onBrowserLoad,d=e.onBrowserMessage,m=e.showErrors,y=e.isBlank,g=e.isReady,b=e.isLoading,_=e.src,v=e.refreshCount,C=e.displayUrl;return g?(t=y?p.a.createElement(qt,{theme:"dark",componentName:"Web Browser",icon:"explore"}):p.a.createElement(Zt,{src:_,onBrowserLoad:h,onBrowserMessage:d,bindBrowserListener:r,refreshCount:v,ref:n}),p.a.createElement(Ce.a,{grow:1,column:!0},p.a.createElement(Ce.a,{className:Jt.a.browserChrome},p.a.createElement(Vt.a,{name:"arrow-thin-left",onClick:u}),p.a.createElement(Vt.a,{name:"refresh",onClick:f}),p.a.createElement(Ce.a,{center:!0,grow:1,className:Jt.a.urlBarContainer},p.a.createElement("input",{type:"text",className:Jt.a.urlBar,value:C,ref:o,placeholder:"Type URL here",onKeyDown:s,onFocus:i,onBlur:a,onChange:l}),b?p.a.createElement("div",{className:"fcn-spinner fcn-spinner--grey"}):null),p.a.createElement(Vt.a,{name:"fullscreen",onClick:c})),p.a.createElement(Ce.a,{grow:1,className:Jt.a.browserBody,column:!0},t),m&&p.a.createElement(ee,{pinnedBottom:!0}))):p.a.createElement("div",{className:Jt.a.browserSkeleton},p.a.createElement(Xt.a,null))},to=v()({displayName:"WebBrowser",mixins:[O.StateMixin.connect(zt.a),O.StateMixin.connect(E.a,["workspaceReady","workspaceStatusType"])],urlBar:Object(u.createRef)(),browserRef:Object(u.createRef)(),getInitialState:function getInitialState(){return{urlBarValue:""}},getBrowser:function getBrowser(){return this.browserRef},onUrlBarKeyDown:function onUrlBarKeyDown(e){13===e.keyCode&&Ut.a.load(this.state.urlBarValue)},onUrlBarChange:function onUrlBarChange(e){this.setState({urlBarValue:e.target.value})},onUrlFieldBlur:function onUrlFieldBlur(){this.setState({urlBarFocused:!1})},onUrlFieldFocus:function onUrlFieldFocus(){this.setState({urlBarFocused:!0})},componentDidUpdate:function componentDidUpdate(e,t){!t.workspaceReady&&this.state.workspaceReady&&this.onHome()},isBlank:function isBlank(){var e=this.state.location;return!(void 0===e?{}:e).internalUrl||!E.a.state.workspaceObject},onHome:function onHome(){void 0!==this.props.presenter.display_url&&Ut.a.load(this.props.presenter.display_url)},bindBrowserListener:function bindBrowserListener(e){return Ut.a.sendMessage.listen(e)},onBrowserMessage:function onBrowserMessage(e){var t=e.data;t.location&&Ut.a.push(t.location),Ut.a.receiveMessage(t)},onBrowserLoad:function onBrowserLoad(){zt.a.state.onLoadCallback(),this.setState(function(e){return{urlBarValue:e.location.displayUrl}})},onBack:function onBack(){Ut.a.navigateBack()},onRefresh:function onRefresh(){Ut.a.refresh()},getSrc:function getSrc(){var e=this.state.location,t=void 0===e?{}:e;return t.internalUrl&&t.internalUrl.toString()},render:function render(){var e=this.state,t=e.nonce,o=e.urlBarValue,n=this.props,r=n.presenter,i=n.helpers;return p.a.createElement(eo,{src:this.getSrc(),displayUrl:o,urlBarRef:this.urlBarRef,browserRef:this.browserRef,bindBrowserListener:this.bindBrowserListener,onBack:this.onBack,onRefresh:this.onRefresh,onHome:this.onHome,onBrowserMessage:this.onBrowserMessage,onBrowserLoad:this.onBrowserLoad,onUrlBarKeyDown:this.onUrlBarKeyDown,onUrlBarChange:this.onUrlBarChange,onUrlFieldFocus:this.onUrlFieldFocus,onUrlFieldBlur:this.onUrlFieldFocus,onToggleFullscreen:i.toggleFullscreen,showErrors:!!r.displayErrors,isLoading:this.state.loading,isReady:!Object(fe.a)(this.state),isBlank:this.isBlank(),refreshCount:t})}}),oo=o("dFlt"),no=o("vvtD"),ro=o("ih+G"),io=o("lrkr"),ao=o.n(io);function SQLPreview_typeof(e){return(SQLPreview_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(e){return typeof e}:function _typeof(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function SQLPreview_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function SQLPreview_possibleConstructorReturn(e,t){return!t||"object"!==SQLPreview_typeof(t)&&"function"!=typeof t?function SQLPreview_assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function SQLPreview_getPrototypeOf(e){return(SQLPreview_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function SQLPreview_setPrototypeOf(e,t){return(SQLPreview_setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(e,t){return e.__proto__=t,e})(e,t)}var so=Object(O.connect)(oo.a,["result","schema","error"])($t=function(e){function SQLPreview(){return function SQLPreview_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SQLPreview),SQLPreview_possibleConstructorReturn(this,SQLPreview_getPrototypeOf(SQLPreview).apply(this,arguments))}return function SQLPreview_inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&SQLPreview_setPrototypeOf(e,t)}(SQLPreview,p.a.Component),function SQLPreview_createClass(e,t,o){return t&&SQLPreview_defineProperties(e.prototype,t),o&&SQLPreview_defineProperties(e,o),e}(SQLPreview,[{key:"render",value:function render(){return p.a.createElement("div",{className:ao.a.container},p.a.createElement(no.a,{result:this.props.result}),p.a.createElement(ro.a,{schema:this.props.schema}),p.a.createElement(ee,{pinnedBottom:!0,componentOnly:!0,componentError:this.props.error,timestamp:(new Date).valueOf()}))}}]),SQLPreview}())||$t,lo={ReadOnlyCodeEditor:b.b,PersistentCodeEditor:ut,Image:pt,Video:yt,Narrative:gt.a,Terminal:Et,OutputTerminal:Ht,WebBrowser:to,Brief:bt.a,SQLPreview:so};function _toConsumableArray(e){return function _arrayWithoutHoles(e){if(Array.isArray(e)){for(var t=0,o=new Array(e.length);t<e.length;t++)o[t]=e[t];return o}}(e)||function _iterableToArray(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function geometry_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function geometry_defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function geometry_createClass(e,t,o){return t&&geometry_defineProperties(e.prototype,t),o&&geometry_defineProperties(e,o),e}var co=["x","y"],uo={right:"x",bottom:"y",left:"x",top:"y"},po={top:"bottom",right:"left",bottom:"top",left:"right"},fo=function(){function Range(e,t){geometry_classCallCheck(this,Range),this.min=e,this.max=t,this.length=t-e+1}return geometry_createClass(Range,[{key:"contains",value:function contains(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.buffer||0;return this.min-o<=e&&this.max+o>=e}}]),Range}(),ho=function(){function Posn(e,t){geometry_classCallCheck(this,Posn),this.x=e,this.y=t}return geometry_createClass(Posn,[{key:"clone",value:function clone(){return new Posn(this.x,this.y)}},{key:"gte",value:function gte(e){return this.x>=e.x&&this.y>=e.y}},{key:"lte",value:function lte(e){return this.x<=e.x&&this.y<=e.y}}]),Posn}(),mo=function(){function Cell(e,t,o,n){geometry_classCallCheck(this,Cell),this.x=e,this.y=t,this.id=o,this.neighbors={},this.grid=n,this._right={value:e/n.width+1/n.width},this._bottom={value:t/n.height+1/n.height},0===e&&(this._left={value:0}),0===t&&(this._top={value:0})}return geometry_createClass(Cell,[{key:"left",value:function left(){return 0===this.x?0:this.neighbors.left.right()}},{key:"right",value:function right(){return this._right.value}},{key:"top",value:function top(){return 0===this.y?0:this.neighbors.top.bottom()}},{key:"bottom",value:function bottom(){return this._bottom.value}},{key:"soloEdges",value:function soloEdges(){return{top:void 0===this.neighbors.top,right:void 0===this.neighbors.right,bottom:void 0===this.neighbors.bottom,left:void 0===this.neighbors.left}}},{key:"set",value:function set(e,t){switch(e){case"top":if(0===this.y)throw new Error("Cannot set 'top' on top-most cell");this.neighbors.top._bottom.value=t;break;case"right":if(this.x===this.grid.width-1)throw new Error("Cannot set 'right' on right-most cell");this._right.value=t;break;case"bottom":if(this.y===this.grid.height-1)throw new Error("Cannot set 'bottom' on bottom-most cell");this._bottom.value=t;break;case"left":if(0===this.x)throw new Error("Cannot set 'left' on left-most cell");this.neighbors.left._right.value=t}}}]),Cell}(),yo=function(){function Slot(e,t){geometry_classCallCheck(this,Slot),this.id=e,this.grid=t,this.cells={},this.lastEdgeSet={x:void 0,y:void 0}}return geometry_createClass(Slot,[{key:"registerCells",value:function registerCells(e){var t=!0,o=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(this.cells[a.id]=a,void 0!==a.slot)throw new Error("Can't register slot ".concat(this.id,"; cell ").concat(a.id," already belongs to slot ").concat(a.slot.id,"!"));a.slot=this}}catch(e){o=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(o)throw n}}this.calculateEdges(),this.mergePointers(),this.cacheNeighbors()}},{key:"calculateEdges",value:function calculateEdges(){this.edgeCells={top:[],right:[],bottom:[],left:[]},this.edges={top:1,right:0,bottom:0,left:1};for(var e=Object.values(this.cells),t=["top","right","bottom","left"],o=0;o<t.length;o++)for(var n=t[o],r=0;r<e.length;r++){var i=e[r],a=i[n]();0===this.edgeCells[n].length||a===this.edges[n]?(this.edgeCells[n].push(i),this.edges[n]=a):("left"===n||"top"===n)&&a<this.edges[n]?(this.edgeCells[n]=[i],this.edges[n]=a):("right"===n||"bottom"===n)&&a>this.edges[n]&&(this.edgeCells[n]=[i],this.edges[n]=a)}this.edgeExtents={};var s=this.sharedEdges();for(var l in s)if(s[l]){var c=this.edgeCells[l];this.edgeExtents[l]={x:new fo(Math.min.apply(Math,_toConsumableArray(c.map(function(e){return e.left()}))),Math.max.apply(Math,_toConsumableArray(c.map(function(e){return e.right()})))),y:new fo(Math.min.apply(Math,_toConsumableArray(c.map(function(e){return e.top()}))),Math.max.apply(Math,_toConsumableArray(c.map(function(e){return e.bottom()}))))}}}},{key:"mergePointers",value:function mergePointers(){for(var e in po){var t=po[e],o=this.edgeCells[e][0];if(!o["_".concat(e)]){var n=o.neighbors[e];n&&(o["_".concat(e)]=n["_".concat(t)])}var r=!0,i=!1,a=void 0;try{for(var s,l=this.edgeCells[e][Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c["_".concat(e)]=o["_".concat(e)];var u=c.neighbors[e];u&&c["_".concat(e)]&&(u["_".concat(t)]=c["_".concat(e)])}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}}},{key:"cacheNeighbors",value:function cacheNeighbors(){for(var e={top:[],right:[],bottom:[],left:[]},t=Object.values(this.cells),o=0;o<t.length;o++){var n=t[o];n.neighbors.top&&n.top()===this.edges.top&&-1===e.top.indexOf(n.neighbors.top.slot)&&e.top.push(n.neighbors.top.slot),n.neighbors.right&&n.right()===this.edges.right&&-1===e.right.indexOf(n.neighbors.right.slot)&&e.right.push(n.neighbors.right.slot),n.neighbors.bottom&&n.bottom()===this.edges.bottom&&-1===e.bottom.indexOf(n.neighbors.bottom.slot)&&e.bottom.push(n.neighbors.bottom.slot),n.neighbors.left&&n.left()===this.edges.left&&-1===e.left.indexOf(n.neighbors.left.slot)&&e.left.push(n.neighbors.left.slot)}this.neighbors=e}},{key:"soloEdges",value:function soloEdges(){return{top:this.edgeCells.top[0].soloEdges().top,right:this.edgeCells.right[0].soloEdges().right,bottom:this.edgeCells.bottom[0].soloEdges().bottom,left:this.edgeCells.left[0].soloEdges().left}}},{key:"sharedEdges",value:function sharedEdges(){return{top:!this.edgeCells.top[0].soloEdges().top,right:!this.edgeCells.right[0].soloEdges().right,bottom:!this.edgeCells.bottom[0].soloEdges().bottom,left:!this.edgeCells.left[0].soloEdges().left}}},{key:"top",value:function top(){return this.edgeCells.top[0].top()}},{key:"right",value:function right(){return this.edgeCells.right[0].right()}},{key:"bottom",value:function bottom(){return this.edgeCells.bottom[0].bottom()}},{key:"origin",value:function origin(){return new ho(this.left(),this.top())}},{key:"left",value:function left(){return this.edgeCells.left[0].left()}},{key:"width",value:function width(){return this.right()-this.left()}},{key:"roundedWidth",value:function roundedWidth(){return Math.round(100*this.width())/100}},{key:"height",value:function height(){return this.bottom()-this.top()}},{key:"roundedHeight",value:function roundedHeight(){return Math.round(100*this.height())/100}},{key:"coordExtent",value:function coordExtent(){return{x:new fo(this.edgeCells.left[0].x,this.edgeCells.right[0].x),y:new fo(this.edgeCells.top[0].y,this.edgeCells.bottom[0].y)}}},{key:"collapsed",value:function collapsed(e){switch(e){case"x":return this.roundedWidth()<=.04;case"y":return this.roundedHeight()<=.06;default:return this.collapsed("x")||this.collapsed("y")}}},{key:"elgibileToSnap",value:function elgibileToSnap(e){switch(e){case"x":var t=this.roundedWidth();return t>.04&&t<=.1;default:var o=this.roundedHeight();return o>.06&&o<=.17}}},{key:"withinCollapseThreshold",value:function withinCollapseThreshold(e){switch(e){case"x":return this.roundedWidth()<=.1;default:return this.roundedHeight()<=.17}}},{key:"slack",value:function slack(e){switch(e){case"x":return this.roundedWidth()-.04;default:return this.roundedHeight()-.06}}},{key:"firstSlotWithSlackInDirection",value:function firstSlotWithSlackInDirection(e){var t=uo[e];return this.slack(t)>0?this:0===this.neighbors[e].length?null:this.neighbors[e][0].firstSlotWithSlackInDirection(e)}},{key:"neighborWithSlackInDirection",value:function neighborWithSlackInDirection(e){switch(e){case"top":case"left":return this.firstSlotWithSlackInDirection(e);case"right":case"bottom":return this.neighbors[e][0].firstSlotWithSlackInDirection(e);default:return null}}},{key:"firstDirectionWithSlack",value:function firstDirectionWithSlack(e){var t=!0,o=!1,n=void 0;try{for(var r,i=e[Symbol.iterator]();!(t=(r=i.next()).done);t=!0){var a=r.value;if(this.neighborWithSlackInDirection(a))return a}}catch(e){o=!0,n=e}finally{try{t||null==i.return||i.return()}finally{if(o)throw n}}return null}},{key:"set",value:function set(e,t){var o=this,n=!0,r=!1,i=void 0;try{for(var a,s=this.edgeCells[e][Symbol.iterator]();!(n=(a=s.next()).done);n=!0){a.value.set(e,t)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}var l=uo[e];this.lastEdgeSet[l]=e;var c=!0,u=!1,p=void 0;try{for(var f,h=this.neighbors[e][Symbol.iterator]();!(c=(f=h.next()).done);c=!0){var d=f.value;d.lastEdgeSet[l]=po[e],d.redistributeCells();var m=d.neighbors[po[e]].filter(function(e){return e!==o}),y=!0,g=!1,b=void 0;try{for(var _,v=m[Symbol.iterator]();!(y=(_=v.next()).done);y=!0){var C=_.value;C.lastEdgeSet[l]=e,C.redistributeCells()}}catch(e){g=!0,b=e}finally{try{y||null==v.return||v.return()}finally{if(g)throw b}}}}catch(e){u=!0,p=e}finally{try{c||null==h.return||h.return()}finally{if(u)throw p}}this.redistributeCells()}},{key:"push",value:function push(e,t){var o=po[e];if(0===this.neighbors[e].length)return!1;if("top"===e)return this.neighbors.top[0].push(o,-t);if("left"===e)return this.neighbors.left[0].push(o,-t);var n,r=uo[e];if(!(n=t>0?this.neighborWithSlackInDirection(e):this.neighborWithSlackInDirection(o)))return!1;var i=t<0;t=Math.min(Math.abs(t),n.slack(r)),i&&(t=-t),this.set(e,this[e]()+t),this.enforceMinimumDimensions(e);var a=this.neighbors[t>0?e:o];if(a){var s=!0,l=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){u.value.enforceMinimumDimensions(o)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}return!0}},{key:"redistributeCells",value:function redistributeCells(){for(var e=Object.values(this.cells),t=this.coordExtent(),o=0;o<e.length;o++){var n=e[o];if(t.x.length>1){var r=(n.x+1-t.x.min)/t.x.length;n.neighbors.right&&n.set("right",this.left()+r*this.width())}if(t.y.length>1){var i=(n.y+1-t.y.min)/t.y.length;n.neighbors.bottom&&n.set("bottom",this.top()+i*this.height())}}}},{key:"fullscreen",value:function fullscreen(){var e=!1;for(var t in uo)for(;this.push(t,1);)e=!0;return e}},{key:"enforceMinimumDimensions",value:function enforceMinimumDimensions(e){var t=this.width(),o=this.height();switch(e){case"left":t<.04&&(this.neighbors.right.length?this.set("right",this.left()+.04):this.set("left",this.right()-.04));break;case"right":t<.04&&(this.neighbors.left.length?this.set("left",this.right()-.04):this.set("right",this.left()+.04));break;case"top":o<.06&&(this.neighbors.bottom.length?this.set("bottom",this.top()+.06):this.set("top",this.bottom()-.06));break;default:o<.06&&(this.neighbors.top.length?this.set("top",this.bottom()-.06):this.set("bottom",this.top()+.06))}}}]),Slot}(),go=function(){function Grid(e,t){geometry_classCallCheck(this,Grid),this.width=e,this.height=t,this.cells=[],this.slots={};for(var o=0;o<t;o+=1)for(var n=this.cells[o]=[],r=0;r<e;r+=1){var i=new mo(r,o,o*e+r,this);n[r]=i}for(var a=0;a<t;a+=1)for(var s=0;s<e;s+=1){var l=this.getCellByCoords(s,a);a>0&&(l.neighbors.top=this.getCellByCoords(s,a-1)),s<e-1&&(l.neighbors.right=this.getCellByCoords(s+1,a)),a<t-1&&(l.neighbors.bottom=this.getCellByCoords(s,a+1)),s>0&&(l.neighbors.left=this.getCellByCoords(s-1,a))}}return geometry_createClass(Grid,[{key:"registerSlot",value:function registerSlot(e){var t=this,o=new yo(e,this);this.slots[e]=o;var n=e.split("").map(function(e){return t.getCellById(parseInt(e,10))});o.registerCells(n),this.slotsList=Object.values(this.slots);var r=!0,i=!1,a=void 0;try{for(var s,l=this.slotsList[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){s.value.cacheNeighbors()}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}}},{key:"getSlotById",value:function getSlotById(e){return this.slots[e]}},{key:"getCellByCoords",value:function getCellByCoords(e,t){return this.cells[t][e]}},{key:"getCellById",value:function getCellById(e){var t=e%this.width,o=Math.floor(e/this.width);return this.cells[o][t]}},{key:"registerDOMNode",value:function registerDOMNode(e){this.DOMNode=e}},{key:"DOMNodeRect",value:function DOMNodeRect(){return this.DOMNode.getBoundingClientRect()}},{key:"percentageToPx",value:function percentageToPx(e,t){if(0===t)return 0;switch(e){case"x":return this.DOMNodeRect().width*t;default:return this.DOMNodeRect().height*t}}},{key:"pxToPercentage",value:function pxToPercentage(e,t){if(0===t)return 0;switch(e){case"x":return t/this.DOMNodeRect().width;default:return t/this.DOMNodeRect().height}}},{key:"gutterUnderPosn",value:function gutterUnderPosn(e){var t=this.DOMNodeRect(),o=new ho(e.x-t.left,e.y-t.top),n=!0,r=!1,i=void 0;try{for(var a,s=this.slotsList[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l=a.value;for(var c in l.edgeExtents)switch(c){case"right":var u=this.percentageToPx("x",l[c]()),p=this.percentageToPx("y",l.edgeExtents[c].y.min),f=this.percentageToPx("y",l.edgeExtents[c].y.max);if(Math.abs(o.x-u)<7&&o.y>=p&&o.y<=f)return{edge:c,slot:l};break;case"bottom":var h=this.percentageToPx("y",l[c]()),d=this.percentageToPx("x",l.edgeExtents[c].x.min),m=this.percentageToPx("x",l.edgeExtents[c].x.max);if(Math.abs(o.y-h)<7&&o.x>=d&&o.x<=m)return{edge:c,slot:l}}}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}}},{key:"recalculateEdges",value:function recalculateEdges(){var e=!0,t=!1,o=void 0;try{for(var n,r=this.slotsList[Symbol.iterator]();!(e=(n=r.next()).done);e=!0){n.value.calculateEdges()}}catch(e){t=!0,o=e}finally{try{e||null==r.return||r.return()}finally{if(t)throw o}}}},{key:"getSlotsWaitingToCollapse",value:function getSlotsWaitingToCollapse(e){return this.slotsList.filter(function(t){return t.elgibileToSnap(e)})}},{key:"expandSlot",value:function expandSlot(e){for(var t=this.getSlotById(e),o=t.origin(),n=t.coordExtent(),r=0;r<co.length;r++){var i=co[r],a=t.lastEdgeSet[i],s=t.firstDirectionWithSlack([a,po[a]]);if(s){var l=void 0;if(t.withinCollapseThreshold(i))switch(i){case"x":l=n[i].length/this.width,t.push(s,l-t.width());break;default:l=n[i].length/this.height,t.push(s,l-t.height())}}}this.snapSlots(o)}},{key:"expandSlotInDirection",value:function expandSlotInDirection(e,t){var o,n=this.getSlotById(e),r=n.neighbors[t];r.length>0&&(o=r[0].slack(uo[t]),n.push(t,o))}},{key:"toggleFullscreenSlot",value:function toggleFullscreenSlot(e){if(!this.slots[e].fullscreen()){for(var t=1/this.width,o=1/this.height,n=0;n<this.height;n+=1)for(var r=0;r<this.width;r+=1){var i=this.cells[n][r];i._right.value=(r+1)*t,i._bottom.value=(n+1)*o}return!1}return!0}},{key:"fullscreenSlot",value:function fullscreenSlot(){var e=this.slotsList.filter(function(e){return!(e.withinCollapseThreshold("x")||e.withinCollapseThreshold("y"))});return 1===e.length?e[0]:null}},{key:"snapSlots",value:function snapSlots(e){this.recalculateEdges();for(var t=[],o={},n=["x","y"],r=0;r<n.length;r++){var i=n[r],a=this.getSlotsWaitingToCollapse(i),s=!0,l=!1,c=void 0;try{for(var u,p=a[Symbol.iterator]();!(s=(u=p.next()).done);s=!0){var f=u.value,h=void 0,d=-f.slack(i);if(h=o[i]?o[i]:f.origin().lte(e)?{x:"right",y:"bottom"}[i]:{x:"left",y:"top"}[i],(0===f.neighbors[h].length||t.indexOf(f.neighbors[h][0].id)>-1)&&(h=po[h]),0===f.neighbors[h].length||t.indexOf(f.neighbors[h][0].id)>-1)return;o[i]=h,f.push(h,d),t.push(f.id)}}catch(e){l=!0,c=e}finally{try{s||null==p.return||p.return()}finally{if(l)throw c}}}}}]),Grid}(),bo=o("5vKB"),_o={PersistentCodeEditor:"CodeEditor",WebBrowser:"Preview",Terminal:"Terminal",OutputTerminal:"Terminal",Brief:"Narrative",Image:"Visual",Video:"Visual",SQLPreview:"SQLPreview"},vo=bo.a.extend({initialize:function initialize(){this.arrangements={},this.registerLayouts([{Narrative:"03"},{Narrative:"03",CodeEditor:"1245"},{Narrative:"03",CodeEditor:"14",ReadOnlyCodeEditor:"25"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Preview:"45"},{Narrative:"03",CodeEditor:"1",ReadOnlyCodeEditor:"2",Terminal:"45"},{Narrative:"03",Preview:"1245"},{Narrative:"03",Terminal:"1245"},{Narrative:"03",Visual:"1245"},{Narrative:"03",SQLPreview:"1245"},{Narrative:"03",CodeEditor:"14",Preview:"25"},{Narrative:"03",CodeEditor:"14",Visual:"25"},{Narrative:"03",CodeEditor:"14",Terminal:"25"},{Narrative:"03",CodeEditor:"14",SQLPreview:"25"},{Narrative:"03",CodeEditor:"1",Preview:"25",Terminal:"4"},{Narrative:"03",CodeEditor:"1",Visual:"25",Terminal:"4"},{Narrative:"03",Preview:"14",Visual:"25"},{Narrative:"03",Preview:"25",Terminal:"14"},{Narrative:"03",Terminal:"45",Visual:"12"}])},registerLayouts:function registerLayouts(e){var t=this;e.forEach(function(e){t.registerLayout(e)})},registerLayout:function registerLayout(e){var t=Object.keys(e).sort().join("_"),o={};for(var n in e)o[n]={slots:"".concat(e[n]),cols:this.determineColForSlots(e[n])};this.arrangements[t]=o},determineColForSlots:function determineColForSlots(e){var t="";return/[03]/.test(e+="")&&(t+="1"),/[14]/.test(e)&&(t+="2"),/[25]/.test(e)&&(t+="3"),t},getArrangement:function getArrangement(e){return this.arrangements[this.buildComponentName(e)]},arrangementAmong:function arrangementAmong(e,t){var o=this.getArrangement(t);if(void 0===o)throw new Error("Couldn't find layout for ".concat(this.buildComponentName(t)));return o[_o[e.type]]||o[e.type]},buildComponentName:function buildComponentName(e){return Object.keys(e).map(function(e){return _o[e]||e}).sort(function(e,t){return e.toLowerCase().localeCompare(t.toLowerCase())}).join("_")}}),Co=null,wo=null,Oo=function save(){if((Co=document.activeElement)&&window.getSelection){var e=window.getSelection();wo="Range"===e.type?e.getRangeAt(0):null}},So=function restore(){if(Co&&(Co.focus(),wo&&window.getSelection)){var e=window.getSelection();e.rangeCount>0&&e.removeAllRanges(),e.addRange(wo)}},ko=o("90R5"),Po={componentDidMount:function componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)},componentWillUnmount:function componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)},onMouseDown:function onMouseDown(e){0===e.button&&this.handleMouseDown&&this.handleMouseDown(e)},onMouseUp:function onMouseUp(e){if(this.handleMouseUp){if(void 0!==e._dispatchIDs)return;this.handleMouseUp(e)}},onMouseMove:function onMouseMove(e){if(this.handleMouseMove){if(void 0!==e._dispatchIDs)return;this.handleMouseMove(e,this.state.didMouseMove),this.state.didMouseMove=!0}}};function ComponentGrid_objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){ComponentGrid_defineProperty(e,t,o[t])})}return e}function ComponentGrid_defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}var Eo={Terminal:"terminal",OutputTerminal:"terminal",PersistentCodeEditor:"editor",ReadOnlyCodeEditor:"editor",Image:"image",Narrative:"learn",WebBrowser:"browser"},To=v()({displayName:"ComponentGrid",mixins:[Po],getInitialState:function getInitialState(){for(var e={fullscreenSlot:void 0,config:new vo,cursor:"auto",grid:new go(3,2),slotArrangements:{},hasTrackedDragging:!1},t=this.props.components,o=Object.keys(t),n=0;n<o.length;n++){var r=o[n],i=e.config.arrangementAmong(t[r],t);e.grid.registerSlot(i.slots)}return void 0!==this.props.gridSetup&&this.props.gridSetup(e.grid),e},componentDidMount:function componentDidMount(){this.state.grid.registerDOMNode(jt.a.findDOMNode(this))},componentWillUpdate:function componentWillUpdate(e,t){t.grid&&(t.fullscreenSlot=t.grid.fullscreenSlot())},componentDidUpdate:function componentDidUpdate(){this.state.resizing&&Ot.a.resized(),this.state.resizing=!1},hasCheckWork:function hasCheckWork(){var e=this.props,t=e.contentItemType,o=e.components;return!("project"===t&&!Object.keys(o).includes("WebBrowser"))&&(!0===l()(o,"Terminal.prevent_checkpoint_run")&&!0===l()(o,"PersistentCodeEditor.no_run_button"))},evaluateExercise:function evaluateExercise(){if(!this.props.checkpointsRunning)return this.hasCheckWork()?x.a.checkWork():x.a.saveFilesAndCheckWork()},selectComponentForError:function selectComponentForError(){for(var e=this.props.components,t=["PersistentCodeEditor","Terminal","WebBrowser"],o=0;o<t.length;o++){var n=t[o];if(e[n])return n}var r=Object.keys(e).filter(function(e){return"Narrative"!==e});return r.length>0?r[0]:null},buildComponents:function buildComponents(){for(var e=[],t=this.props.components,o=Object.keys(t),n=0;n<o.length;n++){var r=o[n],i=lo[t[r].type],s=this.state.config.arrangementAmong(t[r],t),l=this.props.helpers.componentShouldBeDisabled(r);this.state.slotArrangements[r]=s.slots;var c=this.toggleFullscreenSlot.bind(this,s.slots),u=p.a.createElement(g,{toggleFullscreen:c,isFullscreen:!!this.state.fullscreenSlot}),f=ComponentGrid_objectSpread({},this.props.modifiers,{disabled:l,fullscreen:s.slots===this.state.fullscreenSlot,dragging:this.state.dragging}),h={fullscreenButton:u,evaluateExercise:this.evaluateExercise,hasCheckWork:this.hasCheckWork(),contentItemType:this.props.contentItemType};a()(h,this.props.presenter);var d=this.selectComponentForError();h.displayErrors=d===r,h=a()({},t[r],h);var m={arrangement:s,wall:this.props.presenter.wall,geometry:this.state.grid.slots[s.slots]},b={toggleFullscreen:this.toggleFullscreenSlot.bind(this,s.slots)},_={constructor:i,presenter:h,name:r,icon:Eo[r]};e.push(p.a.createElement(y,{deferred:-1===["Brief","Narrative"].indexOf(r),locations:s.slots,component:_,slot:m,modifiers:f,helpers:b,adapter:this.props.adapter,user:this.props.user,expandSlot:this.expandSlot,key:"slot:".concat(r)}))}return e},expandSlot:function expandSlot(e){this.state.grid.expandSlot(e),this.setState(function(e){return{grid:e.grid,resizing:!0}})},expandSlotByName:function expandSlotByName(e){var t=this.state.slotArrangements[e];if(!t)throw new Error("No arrangement for ".concat(e));this.state.grid.expandSlot(t),this.setState(function(e){return{grid:e.grid,resizing:!0}})},toggleFullscreenSlot:function toggleFullscreenSlot(e){this.state.grid.toggleFullscreenSlot(e),Object(ko.b)("user","click",{target:"platformFullscreen"}),this.setState(function(e){return{grid:e.grid,resizing:!0}})},hasDOMNode:function hasDOMNode(){return Boolean(this.state.grid.DOMNode)},handleMouseMove:function handleMouseMove(e,t){if(this.hasDOMNode()){var o=this.getPosns(e).pagePosn;if(this.state.dragging){if(e.preventDefault(),this.props.adapter.trigger("interface:resizing"),this.state.hasTrackedDragging||(Object(ko.b)("user","click",{target:"platformDragHandle"}),this.setState(function(){return{hasTrackedDragging:!0}})),t){var n,r=this.state.focusedGutter.edge;if("right"===r){var i=this.state.grid.DOMNodeRect().left+this.state.grid.percentageToPx("x",this.state.focusedGutter.slot.right());n=o.x-i,this.state.focusedGutter.slot.push("right",this.state.grid.pxToPercentage("x",n)),this.setState(function(e){return{grid:e.grid}})}else if("bottom"===r){var a=this.state.grid.DOMNodeRect().top+this.state.grid.percentageToPx("y",this.state.focusedGutter.slot.bottom());n=o.y-a,this.state.focusedGutter.slot.push("bottom",this.state.grid.pxToPercentage("y",n)),this.setState(function(e){return{grid:e.grid}})}}}else{var s,l=this.state.grid.gutterUnderPosn(o);s=void 0!==l?{right:"ew-resize",bottom:"ns-resize"}[l.edge]:"auto",Oo(),this.state.focusedGutter===l&&this.state.cursor===s||this.setState({focusedGutter:l,cursor:s})}}},handleMouseDown:function handleMouseDown(){this.state.focusedGutter&&this.setState({dragging:!0})},handleMouseUp:function handleMouseUp(e){this.state.dragging&&(this.state.grid.snapSlots(this.state.focusedGutter.slot.origin()),e.stopPropagation(),e.preventDefault(),r()(So)),this.setState(function(e){return{grid:e.grid,dragging:!1,resizing:e.dragging}})},getPosns:function getPosns(e){if(!this.hasDOMNode())return{};var t=this.state.grid.DOMNodeRect();return{offsetPosn:new ho(e.pageX-t.left,e.offsetY-t.top),pagePosn:new ho(e.pageX,e.pageY)}},render:function render(){var e=h()({"fcn-grid":!0,"fcn-grid--dragging":!!this.state.dragging}),t={cursor:this.state.cursor};return p.a.createElement("div",{className:e,onMouseMove:this.onMouseMove,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,style:t},this.buildComponents(),this.props.presenter.wall)}});t.a=Object(c.connect)(function mapStateToProps(e){return{checkpointsRunning:Object(k.h)(e)}},null,null,{forwardRef:!0})(To)},gzfs:function(e,t,o){"use strict";var n=o("zdiy"),r=o.n(n),i=o("EVdn"),a=o.n(i),s=o("5vKB").a.extend({initialize:function initialize(){},createComponentBroadcastFunction:function createComponentBroadcastFunction(e){return function(){var t=arguments[0],o=["component",e,t].join(":"),n=Array.prototype.slice.call(arguments,1),r=[o].concat(n);this.trigger.apply(this,r)}.bind(this)},_handle:function _handle(e){var t=this;this._handlers[e].forEach(function(e){e.call(t)})},registerComponent:function registerComponent(e,t){this._components[e]=t},destroy:function destroy(){for(var e in this._handle("destroy"),this._events)this.off(e)},inheritCache:function inheritCache(e){this._cache=e._cache},extendCache:function extendCache(){this._handle("extendCache")}}),l=function(e){return function(){var t=a.a.extend(!0,{mixins:[]},e),o={},n=t.mixins,i=[t.events],l={destroy:[],extendCache:[]};function keepHandler(e,t){void 0!==e[t]&&(l[t].push(e[t]),delete e[t])}delete t.events,keepHandler(t,"destroy"),keepHandler(t,"extendCache"),o=r()(o,t),void 0!==n&&n.forEach(function(e){keepHandler(e,"destroy"),keepHandler(e,"extendCache"),i.push(r()({},e.events)),delete e.events,o=r()(o,e)});var c=new(s.extend(o));return c._handlers=l,c._components={},c._state={},c._cache={},i.forEach(function(e){for(var t in e)c.on(t,e[t].bind(c))}),c}},c=o("4TZy"),u={events:{"component:Terminal:input":function componentTerminalInput(e,t){c.a.interface.execute(e).then(function(o){t(e,o.Content,o.Error?1:0)}).catch(function(){t(e,"",1)})}}},p=(o("ANGy"),o("Td3C")),f={PersistentCodeEditor:[{events:{"component:PersistentCodeEditor:error":function componentPersistentCodeEditorError(e){this.controller.setState({errors:e})}}}],OutputTerminal:[{}],Terminal:[u],WebBrowser:[],Brief:[{events:{"interface:persist":function interfacePersist(){p.a.persist()},"component:Brief:start":function componentBriefStart(){var e=this;this._components.WebBrowser&&this._components.WebBrowser.onHome(),this.controller.updateProgress(1,{success:function success(){e.controller.revealComponents(),e.controller.setState({progress:{status:1}})}})}}}]};t.a={forComponents:function forComponents(e){return l({mixins:this._getBaseMixins(e)})()},forProjectsWithComponents:function forProjectsWithComponents(e){return l({mixins:this._getBaseMixins(e)})()},_getComponentMixins:function _getComponentMixins(e,t){var o=Object.keys(e),n=[];return o.forEach(function(e){e in t&&(n=n.concat(t[e]))}),n},_getBaseMixins:function _getBaseMixins(e){return this._getComponentMixins(e,f)}}},jOg1:function(e,t,o){e.exports={container:"container__2nBQblEbxtWABsG-PzJCJY",headerMsg:"headerMsg__3plWc8vdIt096bVGraVToV",mainMsg:"mainMsg__2xzTH40Y3NuPjCRDA-zrpa",maintButton:"maintButton__1ioHX4Aq9TLq2vD5RxHz8v",iconContainer:"iconContainer__3Yg7iqG5sp8sfgjsnifN3p",icon:"icon__1fpFg6Yg6qKMUy9gCFo_L0"}},"l+xW":function(e,t,o){e.exports={workspaceNaming:"workspaceNaming__2I0Q8d5DxwILB1x1as10cs",saveWorkspaceButton:"saveWorkspaceButton__3AYM6_tV-23zn7ZgRvSBlV",slugRadioButtons:"slugRadioButtons__2WrEtaNE8XBP3aDIuF8w_1",customWorkspaceName:"customWorkspaceName__3n_BDKKkjCPcbxRLJBtD0T"}},lrkr:function(e,t,o){e.exports={container:"container__3wUN5-PZUtu6fwxBb2MHR-",containerWrapper:"containerWrapper__2hYD7baIQK3Y3blM1jnfz9"}},sCXD:function(e,t,o){e.exports={commitButton:"commitButton__2M2YqMWhMQxbVNejtzFreK",timeForm:"timeForm__19k9IT74RbzIn7GN6J7-mm",timeInputBox:"timeInputBox__9c3ZBZQ02pUzzN9yCBNL5",minutesLabel:"minutesLabel__2eG7IU6_d5anAVUsoAIrb2"}},tY4r:function(e,t,o){"use strict";var n=o("hhPA"),r=o.n(n),i=o("BzM2"),a=o("pVWQ"),s=o("OAZI"),l=o("YDNT");t.a=r.a.createStore({name:"AdminStore",mixins:[i.StateMixin.store,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.a.get("_id"),o="PersistLocalStore-".concat(e,"-").concat(t);return{init:function init(){this.getDefaultState?e||s.a.error({message:"PersistLocal mixin requires a string key to be passed in."}):s.a.error({message:"PersistLocal mixin requires method: getDefaultState"})},getInitialState:function getInitialState(){var e=this.getPersistedState();return e||this.getDefaultState()},getPersistedState:function getPersistedState(){try{var t=localStorage.getItem(o);if(t)return JSON.parse(t)}catch(t){s.a.error({message:"Cannot get persisted state for ".concat(e)})}return null},preEmit:function preEmit(t){try{localStorage.setItem(o,JSON.stringify(t))}catch(t){s.a.error({message:"Cannot set persisted state for ".concat(e)})}}}}("adminStore")],getDefaultState:function getDefaultState(){return{uploadSavepoints:!1,nolock:!1,authoringMode:!1,toggleWorkspaceNaming:!1}},init:function init(){this.listenTo(a.a.adminChange,this.onAdminChange),this.listenTo(a.a.toggleAuthoringMode,this.toggleAuthoringMode),this.listenTo(a.a.toggleNoLock,this.toggleNoLock)},onAdminChange:function onAdminChange(e,t){var o=JSON.parse(JSON.stringify(this.state));o[e]=t,this.setState(o)},toggleAuthoringMode:function toggleAuthoringMode(){this.setState({authoringMode:!this.state.authoringMode})},toggleNoLock:function toggleNoLock(){this.setState({nolock:!this.state.nolock})}})},v85q:function(e,t,o){"use strict";o.d(t,"a",function(){return c});var n=o("o0o1"),r=o.n(n),i=o("3BzB"),a=o("WCpy"),s=o("Td3C"),l=o("YDNT");function _objectSpread(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},n=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(o).filter(function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable}))),n.forEach(function(t){_defineProperty(e,t,o[t])})}return e}function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function asyncGeneratorStep(e,t,o,n,r,i,a){try{var s=e[i](a),l=s.value}catch(e){return void o(e)}s.done?t(l):Promise.resolve(l).then(n,r)}var c=function(){var e=function _asyncToGenerator(e){return function(){var t=this,o=arguments;return new Promise(function(n,r){var i=e.apply(t,o);function _next(e){asyncGeneratorStep(i,n,r,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(i,n,r,_next,_throw,"throw",e)}_next(void 0)})}}(r.a.mark(function _callee(e){var t,o,n;return r.a.wrap(function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(t=e.content,o=e.userId,!l.a.isAnon()){r.next=3;break}return r.abrupt("return");case 3:return(n=_objectSpread({},t.workspace,{einConfig:t.ein_config})).user_id=o,t.components.PersistentCodeEditor?i.a.publishFilenames(t.components.PersistentCodeEditor.files):i.a.publishFilenames([]),r.next=8,s.a.setWorkspace(n);case 8:return r.next=10,a.a.clearHistory();case 10:if(!t.components.WebBrowser){r.next=14;break}if(!t.components.WebBrowser.display_url){r.next=14;break}return r.next=14,a.a.load(t.components.WebBrowser.display_url);case 14:case"end":return r.stop()}},_callee,this)}));return function setupWorkspace(t){return e.apply(this,arguments)}}()},vD2r:function(e,t,o){e.exports={timeRemainingSection:"timeRemainingSection__3N_3TjMBMxqAeJB2WkZCz2",strong:"strong__rOS5QsZT2-PbLbhsi-g_K",buttonWithMargin:"buttonWithMargin__2KW0vZiRFfoJbYRkDTgf20",timeCircle:"timeCircle__1_TT-98cHPBQRfDCgNMFyG",time:"time__39ZZr4ZVW0KIXPuONIf_LI",timeRemaining:"timeRemaining__2bpeK3-YxuZpy5owA-J81J",rotate:"rotate__2hyNQ55t2eZO_3ktm78aVJ"}},wevG:function(e,t,o){e.exports={ResetWorkspaceControl:"ResetWorkspaceControl__88z6jsIn6PfE5Pau4k-ll",cta:"cta__2mjuuxJjh22qJC_GiTMSh7",ctaArrow:"ctaArrow__h5q8WAhe0BF1Ki1ae5bVq"}},zmXR:function(e,t,o){e.exports={copyField:"copyField__3-fQ2A8IrBfyrw9qoh3XgZ",copyInputField:"copyInputField__wooT7hh4kzO6fmjY48ugT",errorMsg:"errorMsg__2gFOQ7b9Wusd6M_Sc2Fz4U",responseMsgContainer:"responseMsgContainer__1uNkcerA1kmOJHQE57B-vl",loadingContainer:"loadingContainer__274Nq8IOXZeKLGyBFp1xwb"}}}]);
//# sourceMappingURL=188.b614cbf266b7c4aae471.chunk.js.map